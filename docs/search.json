[
  {
    "objectID": "notebooks/00-intro/10-introduction.html",
    "href": "notebooks/00-intro/10-introduction.html",
    "title": "Introduction",
    "section": "",
    "text": "The Data Mage site is an exploration of applying data science to Magic: The Gathering (MTG). MTG is a collectible card game known for its popularity, long history, and intricate gameplay. MTG offers a wealth of data and countless opportunities for analysis.\nAlthough I’m not an MTG expert, I played briefly in 1999-2000 and recently returned to the game after my son became interested. This project is a way for me to deepen my understanding of MTG and provide insights that others might find useful.\nI’ll analyze three main aspects of MTG: gameplay, collecting, and economics.\nGiven the complexity of gameplay, my analysis will cover various perspectives: aggregate win rates, micro-level decisions like combat resolution and mulligan choices, and evaluations of components such as card mana efficiency. We will also explore the metagame, including deck building, play formats, and drafting strategies\nThe collecting aspect of MTG is vast, with nearly 100,000 cards printed over the game’s history. I’ll examine this by looking into aspects like the probability distributions of collector booster packs.\nFinally, the economics of MTG, particularly the secondary market for singles, is of great interest to me. I’ll focus on predicting card prices and analyzing price trends for new sets."
  },
  {
    "objectID": "notebooks/00-intro/10-introduction.html#card-data-sources",
    "href": "notebooks/00-intro/10-introduction.html#card-data-sources",
    "title": "Introduction",
    "section": "3.1 Card Data Sources",
    "text": "3.1 Card Data Sources\nI’ll use the card data generously made available by the tireless folks at the open-source project MTGJSON. MTGJSON provides a comprehensive database of MTG cards, including card attributes, card text, and card prices. The data is available in JSON format, which I’ll convert to a pandas DataFrame for analysis.\nMTGJSON sources a lot of data from Scryfall, which has an excellent webapp for exploring MTG card data.\nMTGJSON sources the booster pack composition data from. The source code provided by taw on github contains estimated booster pack composition probabilities. He also provides a webapp at mtg.wtf. Note that booster pack composition is proprietary information of Wizards of the Coast, and the above probabilities are estimates.\nSee the mtgjson-data-intro notebook for more details on the data sources."
  },
  {
    "objectID": "notebooks/00-intro/10-introduction.html#draft-play-data-sources",
    "href": "notebooks/00-intro/10-introduction.html#draft-play-data-sources",
    "title": "Introduction",
    "section": "3.2 Draft Play Data Sources",
    "text": "3.2 Draft Play Data Sources\nFor draft play, I will used data from 17lands. They compile data from their user base to provide draft pick data. The data includes the draft pick order, the cards picked, and the win rate of the deck.\nSee the draft-data-intro notebook for more information on the draft data."
  },
  {
    "objectID": "notebooks/00-intro/20-causal-dags.html",
    "href": "notebooks/00-intro/20-causal-dags.html",
    "title": "Summary",
    "section": "",
    "text": "Exploring the causal relationships involved in gameplay and card economics, such as card impact in draft play and secondary market card value."
  },
  {
    "objectID": "notebooks/00-intro/20-causal-dags.html#card-impact",
    "href": "notebooks/00-intro/20-causal-dags.html#card-impact",
    "title": "Summary",
    "section": "2.1 Card Impact",
    "text": "2.1 Card Impact\nI will use the term impact to describe the ability of a card to contribute to winning a game. The impact of the card is the abstract concept that we are trying to measure. The impact of a card is not directly observable, but we can infer it from the a player’s success with or without the card in the play deck.\nCommon terms for card impact can be power level or playability. These terms are often used interchangeably, but I will use impact to describe the abstract concept of a card’s ability to contribute to winning a game.\nWhile impact can not be directly measured or observed, the card’s rarity (common, uncommon, rare, mythic rare) is often used as a proxy for the cards impact. This is an imperfect measure of impact and ideally I will find a more reliable means of modeling impact.\nI’ll start a DAG with the impact. Since the impact can not be directly measured or observed, I mark it with a dashed line to indicate it is a latent variable."
  },
  {
    "objectID": "notebooks/00-intro/20-causal-dags.html#card-success",
    "href": "notebooks/00-intro/20-causal-dags.html#card-success",
    "title": "Summary",
    "section": "2.2 Card Success",
    "text": "2.2 Card Success\nI am calling the outcome of using a card in a deck that card’s success. This abstract concept can take many forms. The obvious one is the win rate of a deck containing the card and can be expanded to a player’s win record when using a given deck. Other forms can be the card’s pick rate in a draft or the card’s play rate from the hand. When looking at replay data, one can also examine resource trade-off, such as the card parity - how many cards are consumed by the player versus the opponent when playing a given card.\nThe win rate can further be refined, such as the starting hand win rate, the non-starting hand win rate, and the not in hand win rate indicating the win rate if a card is played from the starting hand, played when not in starting hand, or never played.\nI infer that impact of the played cards will effect the success of the game. I’ll update the DAG to reflect this."
  },
  {
    "objectID": "notebooks/00-intro/20-causal-dags.html#card-attributes",
    "href": "notebooks/00-intro/20-causal-dags.html#card-attributes",
    "title": "Summary",
    "section": "2.3 Card Attributes",
    "text": "2.3 Card Attributes\nA card’s attributes are the aspect of the card that affect playability. I will only include items that directly affect a card’s impact.\nAttributes affecting Impact: - Mana Cost - Card Type - (creature, instant, etc.) - Power/Toughness - Keywords - Text Description\nA lot of attributes do not affect a card’s impact, but are used as proxies for impact.\nProxy Attributes: - Rarity - While the rarity itself does not affect a card’s impact, more rare cards often correlate with higher card impact. But changing or removing the rarity symbol on a card would have no mechanical affect. - Card Name - perhaps a bit philosophical, the name itself does not affect a card’s impact. One can have mechanically equivalent cards with different names (“…a black lotus by any other name…”). - Set - often used as a proxy, as some sets are seen as more powerful that others. - Variant Art - affects collectablity and price, but not gameplay.\nThe DAG is updated to show how attributes affect impact."
  },
  {
    "objectID": "notebooks/00-intro/20-causal-dags.html#context-within-deck-composition",
    "href": "notebooks/00-intro/20-causal-dags.html#context-within-deck-composition",
    "title": "Summary",
    "section": "2.4 Context within Deck Composition",
    "text": "2.4 Context within Deck Composition\nIf a card interacts well with the other cards in it’s deck, that will increase the card’s impact in a game.\nAn obvious example of this interaction is the problem of adding a mythic rare green card will to a deck without green mana. This card will not be playable and it will act as dead-weight in the deck. This card would have negative impact on game success.\nConversely, a card that adds bonuses to tokens in a deck with lots of token generation would have a large positive impact. Below I update the DAG to reflect this relationship."
  },
  {
    "objectID": "notebooks/00-intro/20-causal-dags.html#player-skill",
    "href": "notebooks/00-intro/20-causal-dags.html#player-skill",
    "title": "Summary",
    "section": "2.5 Player Skill",
    "text": "2.5 Player Skill\nA card’s impact is situational, with a highly skill player will using a card in ways to maximize this impact. This can be done in drafting, deck building, and gameplay.\nA low skilled player with high impact cards could have game success equal to a high skilled player with low impact cards. Increasing both skill and impact should increase success.\nSince a player’s skill can affect both deck composition and situational card impact, the DAG is updated accordingly. We can’t directly observe a player’s skill, so it is indicated as a latent variable."
  },
  {
    "objectID": "notebooks/00-intro/20-causal-dags.html#board-state",
    "href": "notebooks/00-intro/20-causal-dags.html#board-state",
    "title": "Summary",
    "section": "2.6 Board State",
    "text": "2.6 Board State\nThe board state also affects a card’s impact. A card that gives bonuses to all tokens in play has much higher impact when the player has many tokens in play.\nThe board state can be both permanent resources (creatures, life, cards in hand) and temporary resources (untapped lands, untapped creatures).\nThe current board state affects a card’s impact. The card can then affect the future board state. This results in a causal loop that isn’t well suited for the DAG approach, so I will only consider the current board state on card impact.\nA player’s skill also affects the board state, with skilled players building states that better favor cards to be played."
  },
  {
    "objectID": "notebooks/00-intro/20-causal-dags.html#opponents",
    "href": "notebooks/00-intro/20-causal-dags.html#opponents",
    "title": "Summary",
    "section": "2.7 Opponents",
    "text": "2.7 Opponents\nSince this is a competitive game, the opponent will also affect the current board state. Factors such as the opponent’s skill and deck composition will impact the state of the board. An opponent has latent attributes, such as skill."
  },
  {
    "objectID": "notebooks/00-intro/20-causal-dags.html#conclusion",
    "href": "notebooks/00-intro/20-causal-dags.html#conclusion",
    "title": "Summary",
    "section": "2.8 Conclusion",
    "text": "2.8 Conclusion\nWe can see above that a lot of factors affect a card’s impact on gameplay success. The card’s attributes, the deck composition, and board state are all observable, so we will build models that account for this. Conversely, the player’s skill and the opponent’s skill and deck are unobserved, and will be more challenging to model.\nThe first step will to do some exploratory data analysis. I will then develop some models to explore these causal relationship and infer the latent variables, such as card impact and player skill."
  },
  {
    "objectID": "notebooks/00-intro/20-causal-dags.html#supply-and-demand",
    "href": "notebooks/00-intro/20-causal-dags.html#supply-and-demand",
    "title": "Summary",
    "section": "3.1 Supply and Demand",
    "text": "3.1 Supply and Demand\nThe conventional wisdom in economics is that demand pressure to acquire the card will positively affect price. Conversely, increased supply of a card for a fixed demand will drive down price.\nBoth supply and demand are unobserved phenomenon.\nA card’s impact in gameplay will affect demand. Higher impact cards will typically be in higher demand."
  },
  {
    "objectID": "notebooks/00-intro/20-causal-dags.html#print-supply",
    "href": "notebooks/00-intro/20-causal-dags.html#print-supply",
    "title": "Summary",
    "section": "3.2 Print Supply",
    "text": "3.2 Print Supply\nHow does a card’s rarity work in this DAG? In the context of a given set, we know high rarity cards are printed less.\nReprints of a card in new sets will increase supply.\nAcross sets, we will assume that more rare cards will be reprinted less frequently. This assumption should be tested.\nBoth rarity and reprints can be combined into a card’s print quantity, which is the primary market supply controlled by WOTC."
  },
  {
    "objectID": "notebooks/00-intro/20-causal-dags.html#market-hype",
    "href": "notebooks/00-intro/20-causal-dags.html#market-hype",
    "title": "Summary",
    "section": "3.3 Market Hype",
    "text": "3.3 Market Hype\nThere is also a element of market hype that impacts the supply and demand of card. This can be from the card’s use in a high-profile tournament, popularity with collectors of an alternate art piece, or financial market bear and bull feedback.\nRegardless of the source, a given card value may be misaligned from it’s gameplay impact and primary print supply.\nHype is also a latent variable."
  },
  {
    "objectID": "notebooks/00-intro/20-causal-dags.html#conclusion-1",
    "href": "notebooks/00-intro/20-causal-dags.html#conclusion-1",
    "title": "Summary",
    "section": "3.4 Conclusion",
    "text": "3.4 Conclusion\nAs can be seen above, secondary market demand and supply, card gameplay impact, and market hype are all unobserved. This one reason financial markets are so hard to model.\nThe print quantity of a given card is proprietary information, with data on number of card sheet printings and booster pack composition not public data. We can infer this information by estimating card sheet composition, booster deck composition, and retail sales quantities.\nFinally, all of these factors vary as a function of time. Reprintings, hype, and value will change over time, as we well know. Even the card’s impact on gameplay will change as new sets are released and old ones are phased out of formats such as Standard.\nI will dive into this topic of estimating card value after exploring card impact in draft play."
  },
  {
    "objectID": "notebooks/01-data-wrangling/02-draft-data/10-get-draft-data.html",
    "href": "notebooks/01-data-wrangling/02-draft-data/10-get-draft-data.html",
    "title": "Summary",
    "section": "",
    "text": "The code to acquire and pre-process the data to use for future analysis.\n\n\nDownloading BLB PremierDraft game_data Data...\nDownloading OTJ PremierDraft game_data Data...\nDownloading MH3 PremierDraft game_data Data...\nDownloading MKM PremierDraft game_data Data...\nDone!"
  },
  {
    "objectID": "notebooks/01-data-wrangling/01-mtgjson-data/30-card-features-eda.html",
    "href": "notebooks/01-data-wrangling/01-mtgjson-data/30-card-features-eda.html",
    "title": "Summary",
    "section": "",
    "text": "Exploratory data analysis of basic card features (e.g. power and toughness)"
  },
  {
    "objectID": "notebooks/01-data-wrangling/01-mtgjson-data/30-card-features-eda.html#exploring-data-features",
    "href": "notebooks/01-data-wrangling/01-mtgjson-data/30-card-features-eda.html#exploring-data-features",
    "title": "Summary",
    "section": "1.1 Exploring Data Features",
    "text": "1.1 Exploring Data Features\nHere I’ll explore the various data feature is the card data.\n\n1.1.1 Identifier Features\n\nuuid:\nAlso see the cardIdentifiers.parquet file\n\n\n\n1.1.2 Name Features\n\nasciiName: Name with only legal ASCII characters. Only populated if non-ASCII characters in name\nflavorName: Promotion name, with true name underneath, such as Cabal Coffers with the flavor name: Minas Morgul\nname: Name of the cards. Multi-faced cards include a // delimiter.\nnumber: Card number in the set\nsetCode: The set code a card is in\nAlso see the sets.parquet file for set data.\n\n\n1.1.2.1 ASCII Name\nLook at the name and asciiName columns to see if there are any differences.\n\n\n\n\n\n\n\n\n\nasciiName\nname\n\n\n\n\n41669\nNazgul\nNazgûl\n\n\n\n\n\n\n\n\n\n1.1.2.2 Set Code\nHere is the sets with the top 10 highest counts of uuids.\n\n\nsetCode\nPLST    4853\nPRM     3200\nSLD     1612\nWHO     1186\nPIP     1076\nCMM     1068\nCLB      972\nLTR      856\nJ22      835\nPSAL     725\nName: count, dtype: int64\n\n\nA histogram of the set card counts. It is bimodal with a peak around 200 cards, and a peak around 10 cards.\n\n\n\n\n\n\n\n\n\n\n\n1.1.2.3 Card Name\nSee how many occurrences of each name there are in the data set.\nThe five basic lands show up very frequently.\n\n\nname\nForest      872\nSwamp       845\nIsland      835\nMountain    833\nPlains      810\nName: count, dtype: int64\n\n\nHere are the next 10 frequent cards, including Sol Ring and Swords to Plowshares\n\n\nname\nSol Ring                92\nSwords to Plowshares    85\nCommand Tower           78\nCounterspell            71\nEvolving Wilds          68\nSerra Angel             60\nTerramorphic Expanse    59\nLightning Bolt          58\nArcane Signet           58\nGiant Growth            57\nDisenchant              56\nName: count, dtype: int64\n\n\nPlotting out the histogram of card name frequency, we can see it follows the power-law. It is nearly linear on a log-log scale.\n\n\n\n\n\n\n\n\n\n\n\n\n1.1.3 Primary Play Features\n\nkeywords: A list of keywords on the card\npower: The power of a creature card\nrarity: The rarity of the card\ntoughness: The toughness of a creature card\n\n\n1.1.3.1 Keywords\nGet count of all keywords in the data. There are 588 unique keywords. We can see flying takes the lead, with enchant and trample also being popular.\nWe’ll adjust the data to only look at one of each unique name and removing alterative art cards.\n\n\nTotal Unique Keywords: 586\nKeywords w/ &gt;250 Counts: 18\nKeywords w/ &lt;10 Count: 349\n\n\nkeywords\nFlying          2746\nEnchant         1175\nTrample          816\nHaste            566\nVigilance        544\nEquip            494\nFlash            493\nMill             469\nScry             396\nFirst strike     349\nName: count, dtype: int64\n\n\nHere we see that most keywords are infrequent, with only 18 keywords appearing more than 250 times.\n\n\n\n\n\n\n\n\n\n\n\n1.1.3.2 Rarity\nWe can see that for uuids, the rare is the most common type.\n\n\nrarity\nrare        35408\ncommon      28389\nuncommon    23844\nmythic       8179\nspecial       387\nbonus           9\nName: count, dtype: int64\n\n\nWe clean this up by only selecting one instance of each name, and removing alterative art cards.\nThe number of cards per rarity is fairly uniform except for mythic which is much lower. Note that this is the number of uniquely named cards, not print frequency.\n\n\nrarity\ncommon      9941\nrare        9256\nuncommon    8657\nmythic      1788\nspecial        9\nName: count, dtype: int64\n\n\n\n\n\n\n\n\n\n\n\n\n\n1.1.3.3 Power & Toughness\n\n\n&lt;Axes: xlabel='value', ylabel='count'&gt;\n\n\n\n\n\n\n\n\n\n\n\nname\n\"Ach! Hans, Run!\"                 None\n\"Brims\" Barone, Midway Mobster       5\n\"Lifetime\" Pass Holder               2\n\"Name Sticker\" Goblin                2\n\"Rumors of My Death . . .\"        None\n                                  ... \nÉomer, King of Rohan                 2\nÉomer, Marshal of Rohan              4\nÉowyn, Fearless Knight               3\nÉowyn, Lady of Rohan                 2\nÉowyn, Shieldmaiden                  5\nName: power, Length: 29651, dtype: object\n\n\n\n\n&lt;Axes: xlabel='power', ylabel='toughness'&gt;\n\n\n\n\n\n\n\n\n\n\n\n\n1.1.4 Color & Mana Features\n\ncolorIdentity\ncolorIndicator\ncolors\nmanaCost\nmanaValue\n\n\n\n1.1.5 Card Type Features\n\nsubsets\nsubtypes\nsupertypes\ntype\ntypes\n\n\n\n1.1.6 Text Features\n\nflavorText:\nhasContentWarning: Cards that have sensitive content. See this article for more.\nlanguage: The language the text is written in.\nisFunny: Is a funny card, like in ‘Un-sets’\nisStorySpotlight: A Story Spotlight card. Marked as “Story Spotlight” with sequence number in lower border.\nisTextless: The card does not have a textbox\ntext: The rules text in the textbox.\nAlso see the cardRulings.parquet file for ruling text\nAlso see the cardForeignData.parquet file foreign language translations\n\n\n\n1.1.7 Special Play Features\n\nattractionLights: List of attraction lights found on cards, such as Unfinity attraction ride cards\ndefense: Used by Battle - Siege type cards, such as Invasion of Gobakhan // Lightshield Array\nhand: Adjusts starting hand value. Used by Vanguard type cards.\nhasAlternativeDeckLimit: Allows for more than 4 copies in a deck\nleadershipSkills: Legality of a card to be a commander in various formats\nloyalty: Used by planeswalkers\nlife: Adjusts starting life value. Used by Vanguard type cards.\nrelatedCards: A list of card names associated to a card, such as Sword of Dungeons & Dragons and Dragon\n\n\n\n1.1.8 Card Layout Variant Features\n\ncardParts: List of multiple card parts for meld layouts, such as Brisela, Voice of Nightmares + Bruna, the Fading Light // Brisela, Voice of Nightmares\nfaceConvertedManaCost\nfaceFlavorName\nfaceManaValue\nfaceName\nlayout: Non-standard card layouts, such as split, flip, or transform\notherFaceIds: uuid of other faces of the card, such as double-faced cards.\nside: Identifier on side of card for given face, such as a or b\n\n\n\n1.1.9 Performance Features\n\nedhrecRank\nedhrecSaltiness\n\n\n\n1.1.10 Legal Features\n\nAlso see the cardLegalities.parquet file for format legalities\n\n\n\n1.1.11 Visual & Collector Features\n\nartist\nartistIds\nborderColor: Boarder color of card, such as black, white, or silver\nfinishes: Card finish, such as foil, non-foil, or etched\nframeEffects: Non-standard effects, such as etched or extended art\nframeVersion: Version of frame such as 1993 or 2015\nhasFoil\nhasNonFoil\nisAlternative\nisFullArt\nisOversized\nisTimeshifted: Timeshifted is a current card with a retro frame.\nsignature\nvariations: uuids of other cards that are alternate printings of the card in the same set.\nwatermark: Name of watermark on the card\n\n\n\n1.1.12 Printing Features\n\navailability: A lest of card’s available printing types, such as paper, arena, etc.\nisOnlineOnly\nisPromo\nisRebalanced\nisReprint\nisReserved\nprintings\npromoTypes\nrebalancedPrintings\nsecurityStamp: Security stamp, such as acorn, heart, etc.\n\n\n\n1.1.13 Original Printing Features\n\noriginalPrintings: uuids of original printings if its different than the original, such as rebalanced cards.\noriginalReleaseDate: If release date was different than the set release date.\noriginalText\noriginalType\n\n\n\n1.1.14 Products Features\n\nboosterTypes: List of booster types. Default is a random booster, versus deck boosters which are deterministic.\nduelDeck: Indicates which deck (‘a’ vs ‘b’) a card is in Dual Decks\nisStarter: Is card in a starter deck product.\nsourceProducts: uuids of associated sealed products where card can be found.\nAlso see the cardPrices.parquet file for card prices.\nAlso see the cardPurchaseUrls.parquet file for card purchase URLs.\nAlso see the setBoosterContents.parquet and related files for booster pack data.\n\n\n\n\n---------------------------------------------------------------------------\n\nKeyError                                  Traceback (most recent call last)\n\nCell In[10], line 3\n\n      1 mask = df['name'] == 'Boom // Bust'\n\n      2 mask &= df['uuid'] == '7104f01e-0ca6-53e6-873f-ee246015174a'\n\n----&gt; 3 df.loc[mask, ['faceName', 'name', 'language', 'multiverseId', 'identifiers', 'uuid']].head()\n\n\n\nFile c:\\Users\\Josh.Meehl\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pandas\\core\\indexing.py:1147, in _LocationIndexer.__getitem__(self, key)\n\n   1145     if self._is_scalar_access(key):\n\n   1146         return self.obj._get_value(*key, takeable=self._takeable)\n\n-&gt; 1147     return self._getitem_tuple(key)\n\n   1148 else:\n\n   1149     # we by definition only have the 0th axis\n\n   1150     axis = self.axis or 0\n\n\n\nFile c:\\Users\\Josh.Meehl\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pandas\\core\\indexing.py:1339, in _LocIndexer._getitem_tuple(self, tup)\n\n   1336 if self._multi_take_opportunity(tup):\n\n   1337     return self._multi_take(tup)\n\n-&gt; 1339 return self._getitem_tuple_same_dim(tup)\n\n\n\nFile c:\\Users\\Josh.Meehl\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pandas\\core\\indexing.py:994, in _LocationIndexer._getitem_tuple_same_dim(self, tup)\n\n    991 if com.is_null_slice(key):\n\n    992     continue\n\n--&gt; 994 retval = getattr(retval, self.name)._getitem_axis(key, axis=i)\n\n    995 # We should never have retval.ndim &lt; self.ndim, as that should\n\n    996 #  be handled by the _getitem_lowerdim call above.\n\n    997 assert retval.ndim == self.ndim\n\n\n\nFile c:\\Users\\Josh.Meehl\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pandas\\core\\indexing.py:1382, in _LocIndexer._getitem_axis(self, key, axis)\n\n   1379     if hasattr(key, \"ndim\") and key.ndim &gt; 1:\n\n   1380         raise ValueError(\"Cannot index with multidimensional key\")\n\n-&gt; 1382     return self._getitem_iterable(key, axis=axis)\n\n   1384 # nested tuple slicing\n\n   1385 if is_nested_tuple(key, labels):\n\n\n\nFile c:\\Users\\Josh.Meehl\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pandas\\core\\indexing.py:1322, in _LocIndexer._getitem_iterable(self, key, axis)\n\n   1319 self._validate_key(key, axis)\n\n   1321 # A collection of keys\n\n-&gt; 1322 keyarr, indexer = self._get_listlike_indexer(key, axis)\n\n   1323 return self.obj._reindex_with_indexers(\n\n   1324     {axis: [keyarr, indexer]}, copy=True, allow_dups=True\n\n   1325 )\n\n\n\nFile c:\\Users\\Josh.Meehl\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pandas\\core\\indexing.py:1520, in _LocIndexer._get_listlike_indexer(self, key, axis)\n\n   1517 ax = self.obj._get_axis(axis)\n\n   1518 axis_name = self.obj._get_axis_name(axis)\n\n-&gt; 1520 keyarr, indexer = ax._get_indexer_strict(key, axis_name)\n\n   1522 return keyarr, indexer\n\n\n\nFile c:\\Users\\Josh.Meehl\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pandas\\core\\indexes\\base.py:6114, in Index._get_indexer_strict(self, key, axis_name)\n\n   6111 else:\n\n   6112     keyarr, indexer, new_indexer = self._reindex_non_unique(keyarr)\n\n-&gt; 6114 self._raise_if_missing(keyarr, indexer, axis_name)\n\n   6116 keyarr = self.take(indexer)\n\n   6117 if isinstance(key, Index):\n\n   6118     # GH 42790 - Preserve name from an Index\n\n\n\nFile c:\\Users\\Josh.Meehl\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pandas\\core\\indexes\\base.py:6178, in Index._raise_if_missing(self, key, indexer, axis_name)\n\n   6175     raise KeyError(f\"None of [{key}] are in the [{axis_name}]\")\n\n   6177 not_found = list(ensure_index(key)[missing_mask.nonzero()[0]].unique())\n\n-&gt; 6178 raise KeyError(f\"{not_found} not in index\")\n\n\n\nKeyError: \"['multiverseId', 'identifiers'] not in index\"\n\n\n\nHere we can see that each printing of the Boom // Bust card has a common multiverseId and unique uuid across the Boom and Bust faces.\n\n\n\n\n\n\n\n\n\nfaceName\nname\nlanguage\nmultiverseId\nidentifiers\nuuid\n\n\n\n\n285143\nBoom\nBoom // Bust\nGerman\n140480.0\n{\"multiverseId\": 140480, \"scryfallId\": \"303895...\n7104f01e-0ca6-53e6-873f-ee246015174a\n\n\n285151\nBust\nBoom // Bust\nGerman\n140480.0\n{\"multiverseId\": 140480, \"scryfallId\": \"303895...\n94a1683f-deed-5731-bc0a-894075b3fdb2\n\n\n\n\n\n\n\nMost cards are printed in 10 languages beyond english.\n\n\ncount\n10    13194\n6      9757\n7      8048\n8      5111\n5      4187\n4      3679\n9      3237\n3      3082\n1      3009\n2      2629\nName: count, dtype: int64\n\n\nIt appears that Phyrexian is not compatible with the UTF-8 character encoding!\n\n\n116703    |zvEZYCsDFhg.\\n|besYf,GvEng,mpreLYv co,LFr2aho...\n116704    |pcEnusL.\\n+Ⅰ: |co,tuhtZFsDYt,DEEtAGvEnyg,hruP...\n157935    |zvEpnrYhm.\\n|su,Lecc,CF,CsYPYcs,usFPuuDs²\\\\²M...\n162944                                                 None\n169505    |zvEhiUIpenDk zvE&EhclYvh.\\n|beCEcs,FgCnUCA Fg...\nName: text, dtype: object"
  },
  {
    "objectID": "notebooks/01-data-wrangling/01-mtgjson-data/30-card-features-eda.html#identifiers",
    "href": "notebooks/01-data-wrangling/01-mtgjson-data/30-card-features-eda.html#identifiers",
    "title": "Summary",
    "section": "1.2 Identifiers",
    "text": "1.2 Identifiers\nThe cardIdentifiers.parquet file contains the Identifiers. These are used to map the MTGJSON card to other platforms, such as TCG Player or MTG Arena.\nThe other platforms are:\n- Card Kingdom: A large-scale card vender - Card Sphere: A card trading marketplace - Cardmarket: A card marketplace - MTG Arena: An online environment to play MTG - MTG Online: An online environment to play MTG - WOTC Gather: WOTC’s official data source. - Scryfall: Another MTG data source. Note DFC do not have unique UUIDs. - TGC Player: A card marketplace\nA note on the uuids. The foil and non-foil versions of a card have unique uuids. To cross-reference the other foil type, use the mtgjsonFoilVersionId and mtgjsonNonFoilVersionId fields.\n\n\nOpening cardIdentifiers.parquet\nLoaded DF of shape: (96203, 21)\n\n\ncardKingdomEtchedId                                         None\ncardKingdomFoilId                                           None\ncardKingdomId                                             122720\ncardsphereFoilId                                              21\ncardsphereId                                                  22\nmcmId                                                      16166\nmcmMetaId                                                    176\nmtgArenaId                                                  None\nmtgjsonFoilVersionId        8fd4e2eb-3eb4-50ea-856b-ef638fa47f8a\nmtgjsonNonFoilVersionId                                     None\nmtgjsonV4Id                 9eb2e54c-a12b-5e88-a9c0-d8c84c52d59c\nmtgoFoilId                                                 26993\nmtgoId                                                     26992\nmultiverseId                                              129465\nscryfallCardBackId          0aeebaf5-8c7d-4636-9e82-8c27447861f7\nscryfallId                  8f7980d4-da43-4d6d-ad16-14b8a34ae91d\nscryfallIllustrationId      e4d6c53f-e936-4be8-8b70-47c2be863b20\nscryfallOracleId            a2daaf32-dbfe-4618-892e-0da24f63a44a\ntcgplayerEtchedProductId                                    None\ntcgplayerProductId                                         15033\nuuid                        57aaebc1-850c-503d-9f6e-bb8d00d8bf7c\nName: 2, dtype: object\n\n\n\n\n\n\n\n\n\n\n\nmtgjsonFoilVersionId\nmtgjsonNonFoilVersionId\nuuid\n\n\n\n\n2\n8fd4e2eb-3eb4-50ea-856b-ef638fa47f8a\nNone\n57aaebc1-850c-503d-9f6e-bb8d00d8bf7c\n\n\n3\nNone\n57aaebc1-850c-503d-9f6e-bb8d00d8bf7c\n8fd4e2eb-3eb4-50ea-856b-ef638fa47f8a"
  },
  {
    "objectID": "notebooks/01-data-wrangling/01-mtgjson-data/30-card-features-eda.html#boosters",
    "href": "notebooks/01-data-wrangling/01-mtgjson-data/30-card-features-eda.html#boosters",
    "title": "Summary",
    "section": "1.3 Boosters",
    "text": "1.3 Boosters\ndf = load_by_filename(“setBoosterContents.parquet”) mask = df[‘setCode’] == ‘OTJ’ mask &= df[‘boosterName’] == ‘play’ mask &= df[‘sheetName’] == ‘breakingNews’ df.loc[mask].head(50)\ndf = load_by_filename(“setBoosterContentWeights.parquet”) mask = df[‘setCode’] == ‘OTJ’ mask &= df[‘boosterName’] == ‘play’ df.loc[mask].head(50)\ndf = load_by_filename(“setBoosterSheets.parquet”) mask = df[‘setCode’] == ‘OTJ’ mask &= df[‘boosterName’] == ‘collector’ df.loc[mask].head(50)\ndf = load_by_filename(“setBoosterSheetCards.parquet”) mask = df[‘setCode’] == ‘OTJ’ mask &= df[‘boosterName’] == ‘play’ mask &= df[‘sheetName’] == ‘breakingNews’ df.loc[mask].head(50)"
  },
  {
    "objectID": "notebooks/01-data-wrangling/01-mtgjson-data/10-get-data.html",
    "href": "notebooks/01-data-wrangling/01-mtgjson-data/10-get-data.html",
    "title": "Summary",
    "section": "",
    "text": "The code to acquire and pre-process the card data to use for future analysis.\n\n1 Grab MTGJSON Card Data\nHere I will download and clean the data for MTG cards.\nFirst we will download the data from MTGJSON. The AllPrintings card data comes in various formats, such as json, sql, csv, and parquet.\nI will use the parquet format, since that is the most performant format for data analysis. It has high compression, fast load times, and can query directly on disk. This minimizes both disk space and memory usage.\nData URLs: - Linux: https://mtgjson.com/api/v5/AllPrintingsParquetFiles.tar.gz - Windows: https://mtgjson.com/api/v5/AllPrintingsParquetFiles.zip\nThe following code downloads and decompresses the data.\n\n\nDownloading AllPrintingsParquetFiles Data\nStarting datetime: 2024-08-24 20:29:54.591346\n\n\n1.1G    data/raw/mtgjson\nDownloaded AllPrintingsParquetFiles Data\nFinal size: 0\nFinal path: data/raw/mtgjson/AllPrintingsParquetFiles\nFinished datetime: 2024-08-24 20:30:35.446599\n\n\n\n\n2 Grab MTGJSON All Price Data\nNext we will download the data from MTGJSON. The AllPrices card data only comes in json format. We will have to convert this to parquet for ease of use in future analysis.\nNote this data only covers the previous 90 days.\nSince the file is very large, I will use polars instead of pandas\nData URLs: - Linux: https://mtgjson.com/api/v5/AllPrices.json.gz - Windows: https://mtgjson.com/api/v5/AllPrices.json.zip\nThe following code downloads and decompresses the data.\n\n\nDownloading AllPrices.json Data\nStarting datetime: 2024-08-24 20:30:35.455416\n\n\n1.1G    data/raw/mtgjson\nDownloaded AllPrices.json Data\nFinal size: 0\nFinal path: data/raw/mtgjson/AllPrices\nFinished datetime: 2024-08-24 20:31:12.933750"
  },
  {
    "objectID": "notebooks/01-data-wrangling/01-mtgjson-data/20-card-data-wrangle.html",
    "href": "notebooks/01-data-wrangling/01-mtgjson-data/20-card-data-wrangle.html",
    "title": "Summary",
    "section": "",
    "text": "Wrangle the all card data. Joins set data as well. Then selects Standard Legal cards and other interesting data sets.\n['artist',\n 'artistIds',\n 'asciiName',\n 'attractionLights',\n 'availability',\n 'boosterTypes',\n 'borderColor',\n 'cardParts',\n 'colorIdentity',\n 'colorIndicator',\n 'colors',\n 'defense',\n 'duelDeck',\n 'edhrecRank',\n 'edhrecSaltiness',\n 'faceConvertedManaCost',\n 'faceFlavorName',\n 'faceManaValue',\n 'faceName',\n 'finishes',\n 'flavorName',\n 'flavorText',\n 'frameEffects',\n 'frameVersion',\n 'hand',\n 'hasAlternativeDeckLimit',\n 'hasContentWarning',\n 'hasFoil',\n 'hasNonFoil',\n 'isAlternative',\n 'isFullArt',\n 'isFunny',\n 'isOnlineOnly',\n 'isOversized',\n 'isPromo',\n 'isRebalanced',\n 'isReprint',\n 'isReserved',\n 'isStarter',\n 'isStorySpotlight',\n 'isTextless',\n 'isTimeshifted',\n 'keywords',\n 'language',\n 'layout',\n 'leadershipSkills',\n 'life',\n 'loyalty',\n 'manaCost',\n 'manaValue',\n 'name',\n 'number',\n 'originalPrintings',\n 'originalReleaseDate',\n 'originalText',\n 'originalType',\n 'otherFaceIds',\n 'power',\n 'printings',\n 'promoTypes',\n 'rarity',\n 'rebalancedPrintings',\n 'relatedCards',\n 'securityStamp',\n 'setCode',\n 'side',\n 'signature',\n 'sourceProducts',\n 'subsets',\n 'subtypes',\n 'supertypes',\n 'text',\n 'toughness',\n 'type',\n 'types',\n 'uuid',\n 'variations',\n 'watermark']\n(96216, 127)"
  },
  {
    "objectID": "notebooks/01-data-wrangling/01-mtgjson-data/20-card-data-wrangle.html#data-for-standard-legal-cards",
    "href": "notebooks/01-data-wrangling/01-mtgjson-data/20-card-data-wrangle.html#data-for-standard-legal-cards",
    "title": "Summary",
    "section": "1 Data for Standard Legal Cards",
    "text": "1 Data for Standard Legal Cards\nUsed for analysis of the Standard format.\nSee the MTG Wiki Standard/Timeline page for validate correct card composition.\n\n\n(6344, 127)"
  },
  {
    "objectID": "notebooks/01-data-wrangling/01-mtgjson-data/20-card-data-wrangle.html#outlaws-of-thunder-junction-standard-legal-set",
    "href": "notebooks/01-data-wrangling/01-mtgjson-data/20-card-data-wrangle.html#outlaws-of-thunder-junction-standard-legal-set",
    "title": "Summary",
    "section": "2 Outlaws of Thunder Junction Standard Legal Set",
    "text": "2 Outlaws of Thunder Junction Standard Legal Set\nPer the wiki, there should be 271 cards in the OTJ set.\n\n\n\nshape: (5, 19)\n\n\n\nname\nsetCode\nreleaseDate\nnumber\nlayout\navailability\npower\ntoughness\ncolorIdentity\ncolors\ntypes\nsubtypes\nsupertypes\nmanaCost\nmanaValue\nedhrecRank\nedhrecSaltiness\ntext\nflavorText\n\n\nstr\nstr\nstr\nstr\nstr\nstr\nstr\nstr\nstr\nstr\nstr\nstr\nstr\nstr\nf64\nf64\nf64\nstr\nstr\n\n\n\n\n\"Banishing Light\"\n\"BLB\"\n\"2024-08-02\"\n\"001\"\n\"normal\"\n\"arena, mtgo, paper\"\nnull\nnull\n\"W\"\n\"W\"\n\"Enchantment\"\n\"\"\n\"\"\n\"{2}{W}\"\n3.0\n2267.0\n0.21\n\"When Banishing Light enters, e…\n\"\"If you cannot find light in t…\n\n\n\"Dewdrop Cure\"\n\"BLB\"\n\"2024-08-02\"\n\"010\"\n\"normal\"\n\"arena, mtgo, paper\"\nnull\nnull\n\"W\"\n\"W\"\n\"Sorcery\"\n\"\"\n\"\"\n\"{2}{W}\"\n3.0\n15834.0\nnull\n\"Gift a card (You may promise a…\nnull\n\n\n\"Maha, Its Feathers Night\"\n\"BLB\"\n\"2024-08-02\"\n\"100\"\n\"normal\"\n\"arena, mtgo, paper\"\n\"6\"\n\"5\"\n\"B\"\n\"B\"\n\"Creature\"\n\"Elemental, Bird\"\n\"Legendary\"\n\"{3}{B}{B}\"\n5.0\n11109.0\nnull\n\"Flying, trample\\nWard—Discard …\n\"Its wingspan reaches from dusk…\n\n\n\"Moonstone Harbinger\"\n\"BLB\"\n\"2024-08-02\"\n\"101\"\n\"normal\"\n\"arena, mtgo, paper\"\n\"1\"\n\"3\"\n\"B\"\n\"B\"\n\"Creature\"\n\"Bat, Warrior\"\n\"\"\n\"{2}{B}\"\n3.0\n16560.0\nnull\n\"Flying, deathtouch\\nWhenever y…\n\"Moonstone weapons drink in the…\n\n\n\"Nocturnal Hunger\"\n\"BLB\"\n\"2024-08-02\"\n\"102\"\n\"normal\"\n\"arena, mtgo, paper\"\nnull\nnull\n\"B\"\n\"B\"\n\"Instant\"\n\"\"\n\"\"\n\"{2}{B}\"\n3.0\n19199.0\nnull\n\"Gift a Food (You may promise a…\nnull"
  },
  {
    "objectID": "notebooks/01-data-wrangling/03-network-data/03-XX-wrangle-network.html",
    "href": "notebooks/01-data-wrangling/03-network-data/03-XX-wrangle-network.html",
    "title": "Summary",
    "section": "",
    "text": "Create the card-deck network data.\n\n\n\n\n\n\n\n\n\ndraft_idx\nwon\ncard\nin_deck\nname\nsetCode\nreleaseDate\nnumber\nlayout\navailability\n...\ntoughness\ncolorIdentity\ncolors\ntypes\nsubtypes\nsupertypes\nmanaCost\nmanaValue\nedhrecRank\nedhrecSaltiness\n\n\n\n\n0\n96414\nTrue\nRazzle-Dazzler\nFalse\nRazzle-Dazzler\nOTJ\n2024-04-19\n63\nnormal\narena, mtgo, paper\n...\n2\nU\nU\nCreature\nHuman, Wizard\n\n{1}{U}\n2.0\n17822.0\nNaN\n\n\n1\n170600\nTrue\nRazzle-Dazzler\nFalse\nRazzle-Dazzler\nOTJ\n2024-04-19\n63\nnormal\narena, mtgo, paper\n...\n2\nU\nU\nCreature\nHuman, Wizard\n\n{1}{U}\n2.0\n17822.0\nNaN\n\n\n2\n157994\nTrue\nRazzle-Dazzler\nFalse\nRazzle-Dazzler\nOTJ\n2024-04-19\n63\nnormal\narena, mtgo, paper\n...\n2\nU\nU\nCreature\nHuman, Wizard\n\n{1}{U}\n2.0\n17822.0\nNaN\n\n\n3\n35865\nTrue\nRazzle-Dazzler\nFalse\nRazzle-Dazzler\nOTJ\n2024-04-19\n63\nnormal\narena, mtgo, paper\n...\n2\nU\nU\nCreature\nHuman, Wizard\n\n{1}{U}\n2.0\n17822.0\nNaN\n\n\n4\n1123\nTrue\nRazzle-Dazzler\nFalse\nRazzle-Dazzler\nOTJ\n2024-04-19\n63\nnormal\narena, mtgo, paper\n...\n2\nU\nU\nCreature\nHuman, Wizard\n\n{1}{U}\n2.0\n17822.0\nNaN\n\n\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n\n\n19999995\n59177\nFalse\nPitiless Carnage\nFalse\nPitiless Carnage\nOTJ\n2024-04-19\n326\nnormal\narena, mtgo, paper\n...\nNone\nB\nB\nSorcery\n\n\n{3}{B}\n4.0\n8598.0\nNaN\n\n\n19999996\n122497\nFalse\nPitiless Carnage\nFalse\nPitiless Carnage\nOTJ\n2024-04-19\n326\nnormal\narena, mtgo, paper\n...\nNone\nB\nB\nSorcery\n\n\n{3}{B}\n4.0\n8598.0\nNaN\n\n\n19999997\n22923\nFalse\nPitiless Carnage\nFalse\nPitiless Carnage\nOTJ\n2024-04-19\n326\nnormal\narena, mtgo, paper\n...\nNone\nB\nB\nSorcery\n\n\n{3}{B}\n4.0\n8598.0\nNaN\n\n\n19999998\n167501\nFalse\nPitiless Carnage\nFalse\nPitiless Carnage\nOTJ\n2024-04-19\n326\nnormal\narena, mtgo, paper\n...\nNone\nB\nB\nSorcery\n\n\n{3}{B}\n4.0\n8598.0\nNaN\n\n\n19999999\n172092\nTrue\nPitiless Carnage\nFalse\nPitiless Carnage\nOTJ\n2024-04-19\n326\nnormal\narena, mtgo, paper\n...\nNone\nB\nB\nSorcery\n\n\n{3}{B}\n4.0\n8598.0\nNaN\n\n\n\n\n20000000 rows × 21 columns\n\n\n\n\n\n1456848\n\n\n\n\n(128487, 939328)"
  },
  {
    "objectID": "notebooks/10-eda/02-draft-data/01-premier-play/22-turns.html",
    "href": "notebooks/10-eda/02-draft-data/01-premier-play/22-turns.html",
    "title": "Bloomburrow (BLB) Arena Draft Analysis",
    "section": "",
    "text": "1 Turn Counts\nThe number of turns in a game is an important metric for assessing the speed of a set. In Figure 1, we see the distribution of turn counts for the Bloomburrow set, with an average of 8.9 turns per game.\nSimilar to the distribution seen in mulligan analysis, this turn distribution appears to resemble a Poisson distribution.\n\n\n\n---------------------------------------------------------------------------\nFileNotFoundError                         Traceback (most recent call last)\nCell In[5], line 31\n      1 turns = (\n      2     df_games.group_by([\"num_turns\", \"expansion\"])\n      3     .agg(\n   (...)\n      9     .sort(by=\"num_turns\", descending=True)\n     10 )\n     12 mean_win_rate = (\n     13     turns.group_by(\"expansion\")\n     14     .agg(\n   (...)\n     22     )\n     23 )\n     25 turns = (\n     26     turns.join(mean_win_rate, on=\"expansion\")\n     27     .with_columns(\n     28         (pl.col(\"win_rate\") / pl.col(\"set_win_rate\")).alias(\"normalized_win_rate\"),\n     29         (pl.col(\"n_games\") / pl.col(\"set_n_games\")).alias(\"normalized_pct_games\"),\n     30     )\n---&gt; 31     .collect()\n     32     .to_pandas()\n     33 )\n     35 filtered_turns = turns.loc[turns[\"pct_games\"] &gt; 0.001]\n     36 mean_win_rate = df_games.select(pl.col(\"num_turns\").mean()).collect().to_numpy()[0][0]\n\nFile ~/miniconda3/envs/dl+bayes-env/lib/python3.12/site-packages/polars/lazyframe/frame.py:2027, in LazyFrame.collect(self, type_coercion, predicate_pushdown, projection_pushdown, simplify_expression, slice_pushdown, comm_subplan_elim, comm_subexpr_elim, cluster_with_columns, no_optimization, streaming, engine, background, _eager, **_kwargs)\n   2025 # Only for testing purposes\n   2026 callback = _kwargs.get(\"post_opt_callback\", callback)\n-&gt; 2027 return wrap_df(ldf.collect(callback))\n\nFileNotFoundError: No such file or directory (os error 2): data/processed/17lands/game_data/premier_draft/All_Sets_Game_PD_Games.parquet\n\nThis error occurred with the following context stack:\n    [1] 'parquet scan' failed\n    [2] 'group_by' input failed to resolve\n    [3] 'with_columns' input failed to resolve\n    [4] 'sort' input failed to resolve\n    [5] 'join left' input failed to resolve\n    [6] 'with_columns' input failed to resolve\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 1: The distribution of number of turns per game.\n\n\n\n\n\nI’m also interested in how 17Lands players perform relative to the number of turns. In Figure 2, we observe that players are more likely to win games that end quickly. The win rate is 55-60% for games that conclude in fewer than 8 turns, dropping to 50-55% for games that last longer.\n\n\n\n\n\n\n\n\nFigure 2: The win rate versus number of turns."
  },
  {
    "objectID": "notebooks/10-eda/02-draft-data/01-premier-play/23-builds.html",
    "href": "notebooks/10-eda/02-draft-data/01-premier-play/23-builds.html",
    "title": "Bloomburrow (BLB) Arena Draft Analysis",
    "section": "",
    "text": "1 Builds\nA player can rebuild their deck between games by utilizing their sideboard during a draft session. I wanted to explore how often players rebuild their decks and whether this impacts win rate. This analysis focuses on premier draft, a best-of-one format, where there is less incentive to rebuild a deck compared to a best-of-three format.\nIn Figure 1, we see that over 75% of draft sessions use the same deck build throughout. Only a tiny fraction of sessions feature more than two different builds.\n\n\n\n---------------------------------------------------------------------------\nFileNotFoundError                         Traceback (most recent call last)\nCell In[10], line 33\n      1 builds = (\n      2     df_draft.group_by([\"n_builds\", \"expansion\"])\n      3     .agg(\n   (...)\n     11     .sort(by=[\"expansion\", \"n_builds\"], descending=True)\n     12 )\n     14 mean_win_rate = (\n     15     builds.group_by(\"expansion\")\n     16     .agg(\n   (...)\n     24     )\n     25 )\n     27 builds = (\n     28     builds.join(mean_win_rate, on=\"expansion\")\n     29     .with_columns(\n     30         (pl.col(\"win_rate\") / pl.col(\"set_win_rate\")).alias(\"normalized_win_rate\"),\n     31         (pl.col(\"n_games\") / pl.col(\"set_n_games\")).alias(\"normalized_pct_games\"),\n     32     )\n---&gt; 33     .collect()\n     34     .to_pandas()\n     35 )\n     37 builds = builds.loc[builds[\"n_builds\"] &lt;= 4]\n\nFile ~/miniconda3/envs/dl+bayes-env/lib/python3.12/site-packages/polars/lazyframe/frame.py:2027, in LazyFrame.collect(self, type_coercion, predicate_pushdown, projection_pushdown, simplify_expression, slice_pushdown, comm_subplan_elim, comm_subexpr_elim, cluster_with_columns, no_optimization, streaming, engine, background, _eager, **_kwargs)\n   2025 # Only for testing purposes\n   2026 callback = _kwargs.get(\"post_opt_callback\", callback)\n-&gt; 2027 return wrap_df(ldf.collect(callback))\n\nFileNotFoundError: No such file or directory (os error 2): data/processed/17lands/game_data/premier_draft/All_Sets_Game_PD_Drafts.parquet\n\nThis error occurred with the following context stack:\n    [1] 'parquet scan' failed\n    [2] 'group_by' input failed to resolve\n    [3] 'with_columns' input failed to resolve\n    [4] 'sort' input failed to resolve\n    [5] 'join left' input failed to resolve\n    [6] 'with_columns' input failed to resolve\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 1: The proportion of games for the number of rebuilds.\n\n\n\n\n\nIn Figure 2, we observe the relationship between win rate and the number of rebuilds. Decks with more rebuilds tend to have lower win rates, but it’s unclear whether players are rebuilding more to salvage a poorly drafted deck or if rebuilding itself is a suboptimal strategy.\n\n\n\n\n\n\n\n\nFigure 2: The win rate for a number of deck rebuilds."
  },
  {
    "objectID": "notebooks/10-eda/02-draft-data/01-premier-play/24-starting-player.html",
    "href": "notebooks/10-eda/02-draft-data/01-premier-play/24-starting-player.html",
    "title": "Bloomburrow (BLB) Arena Draft Analysis",
    "section": "",
    "text": "1 Starting Player\nTo assess the impact of going first or second, I plotted the win rates for each scenario. As shown in Figure 1, the win rate is significantly higher for the player who starts, with nearly a 7% advantage.\n\n\n\n---------------------------------------------------------------------------\nFileNotFoundError                         Traceback (most recent call last)\nCell In[5], line 23\n      1 starting = (\n      2     df_game.group_by([\"on_play\", \"expansion\"])\n      3     .agg(\n   (...)\n     11     .sort(by=[\"expansion\", \"on_play\"], descending=[False, True])\n     12 )\n     14 mean_win_rate = starting.group_by(\"expansion\").agg(\n     15     pl.col(\"win_rate\").mean().alias(\"mean_win_rate\")\n     16 )\n     18 starting = (\n     19     starting.join(mean_win_rate, on=\"expansion\")\n     20     .with_columns(\n     21         (pl.col(\"win_rate\") / pl.col(\"mean_win_rate\") - 1).alias(\"normalized_win_rate\")\n     22     )\n---&gt; 23     .collect()\n     24     .to_pandas()\n     25 )\n\nFile ~/miniconda3/envs/dl+bayes-env/lib/python3.12/site-packages/polars/lazyframe/frame.py:2027, in LazyFrame.collect(self, type_coercion, predicate_pushdown, projection_pushdown, simplify_expression, slice_pushdown, comm_subplan_elim, comm_subexpr_elim, cluster_with_columns, no_optimization, streaming, engine, background, _eager, **_kwargs)\n   2025 # Only for testing purposes\n   2026 callback = _kwargs.get(\"post_opt_callback\", callback)\n-&gt; 2027 return wrap_df(ldf.collect(callback))\n\nFileNotFoundError: No such file or directory (os error 2): data/processed/17lands/game_data/premier_draft/All_Sets_Game_PD_Games.parquet\n\nThis error occurred with the following context stack:\n    [1] 'parquet scan' failed\n    [2] 'group_by' input failed to resolve\n    [3] 'with_columns' input failed to resolve\n    [4] 'sort' input failed to resolve\n    [5] 'join left' input failed to resolve\n    [6] 'with_columns' input failed to resolve\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 1: The win rate for starting versus non-starting player.\n\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 2: The win rate for starting versus non-starting player."
  },
  {
    "objectID": "notebooks/10-eda/02-draft-data/01-premier-play/20-player-rank.html",
    "href": "notebooks/10-eda/02-draft-data/01-premier-play/20-player-rank.html",
    "title": "Bloomburrow (BLB) Arena Draft Analysis",
    "section": "",
    "text": "To assess player skill, I plotted the number of wins by player rank. While I don’t have player IDs to track individual performance, this view provides an average performance snapshot of the player base. Additionally, since I cannot track the number of drafts per player, more frequent players will be over-represented in the data.\nAlthough opponent rankings are not available, we can infer that most opponents are of similar rank due to Arena’s draft system, which matches players with similar records. Each ranked season lasts about a month, and ranks experience “rank decay” between seasons. This decay means that at the start of a new season, a player’s rank is lower, requiring them to play more games to regain their previous standing.\nTherefore, our snapshot of each rank includes a mix of lower-skill players who have reached their peak at the end of the season and higher-skill players at the start of the season who are climbing back up the ranks.\nIn Figure 1 we see that most drafts are played by players in the Platinum ranks.\n\n\n\n---------------------------------------------------------------------------\nFileNotFoundError                         Traceback (most recent call last)\nCell In[5], line 32\n     11 ordered_ranks = {\n     12     0: \"bronze\",\n     13     1: \"silver\",\n   (...)\n     17     5: \"mythic\",\n     18 }\n     20 ordered_ranks_df = pl.LazyFrame(\n     21     {\"rank_value\": list(ordered_ranks.keys()), \"rank\": list(ordered_ranks.values())}\n     22 ).with_columns(\n   (...)\n     26     )\n     27 )\n     29 ranks = (\n     30     ordered_ranks_df.join(draft_rank, on=\"rank\", how=\"left\")\n     31     .sort(\"rank_value\")\n---&gt; 32     .collect()  # Execute the lazy frame\n     33 ).to_pandas()\n     35 ranks[\"win_rate\"] = ranks[\"n_wins\"] / ranks[\"n_games\"]\n\nFile ~/miniconda3/envs/dl+bayes-env/lib/python3.12/site-packages/polars/lazyframe/frame.py:2027, in LazyFrame.collect(self, type_coercion, predicate_pushdown, projection_pushdown, simplify_expression, slice_pushdown, comm_subplan_elim, comm_subexpr_elim, cluster_with_columns, no_optimization, streaming, engine, background, _eager, **_kwargs)\n   2025 # Only for testing purposes\n   2026 callback = _kwargs.get(\"post_opt_callback\", callback)\n-&gt; 2027 return wrap_df(ldf.collect(callback))\n\nFileNotFoundError: No such file or directory (os error 2): data/processed/17lands/game_data/premier_draft/All_Sets_Game_PD_Drafts.parquet\n\nThis error occurred with the following context stack:\n    [1] 'parquet scan' failed\n    [2] 'group_by' input failed to resolve\n    [3] 'sort' input failed to resolve\n    [4] 'join, right' input failed to resolve\n    [5] 'sort' input failed to resolve\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 1: Drafts Played by Players of Different Ranks.\n\n\n\n\n\nIn Figure 2, we observe that win rates vary by rank, with higher ranks generally achieving higher win rates. The Bronze rank has by far the lowest win rate, reflecting new or less skilled players. Interestingly, the Silver rank shows the highest win rate, likely due to the influx of Gold and Platinum players who reset to Silver at the start of the season and quickly climb back up the ranks.\n\n\n\n\n\n\n\n\nFigure 2: Win Rate by Players of Different Ranks.\n\n\n\n\n\nFor each rank, I plotted the win rate for the last week of play compared to the earlier timeframe. In Figure 3, we see a decline in win rates for higher ranks but an increase in win rates for lower ranks. This pattern suggests that higher ranks may become more competitive as the season progresses, while lower ranks tend to become more casual.\n\n\n\n\n\n\n\n\nFigure 3: Win Rate by Players of Different Ranks by Timeframe.\n\n\n\n\n\nFigure 4 shows the number of games played per draft for each rank. While not identical, the pattern closely mirrors the previous chart of win rates.\n\n\n\n\n\n\n\n\nFigure 4: Games Played per Draft by Players of Different Ranks.\n\n\n\n\n\n\n\nWe then examine the number of drafts played at each rank over time in Figure 5. Since the BLB set was released two days before the season start, I truncated the data at 08-01 to avoid the effects of rank decay.\nThe initial days are chaotic, with the BLB set launching on 07-30, and 07-31 being the first full day of recorded games. On 08-01, the new ranked season began, causing rank decay, which is especially noticeable in Mythic and Diamond gameplay.\nStarting on 08-01, we observe distinct patterns: Gold rapidly declines after an initial peak of 3,800 drafts per day. Platinum peaks during days 4-6 before dropping. Diamond shows a slower climb with a plateau between days 8-13, followed by a gradual decline. Mythic starts at zero and slowly climbs, reaching a peak of 500 drafts per day around days 13-16.\nFrom this chart, it’s unclear how much of the decline at each rank is due to player advancement versus a loss of interest after the initial excitement of a new season. In the following charts, I will normalize the data to the total drafts played to better account for the overall decrease in gameplay.\n\n\nTotal Time Interval: 209 days\n\n\n\n\n\n\n\n\n\n\nFigure 5: Drafts Played by Players Over Time, by Player rank.\n\n\n\n\n\nIn Figure 6, we see the number of drafts played over time. It’s notable that the release of BLB and the start of the new season coincided, driving high player interest, with a peak of 11,300 drafts on 07-31. The rate of play decayed over the weeks, reaching a low of 3,100 on 08-17.\nThe decline is nearly monotonic, with slight increases on the Saturdays of 08-04 and 08-11, indicating that weekly seasonality has only a minor impact.\nReleasing new sets clearly boosts player engagement. However, the introduction of the new season on 08-01 does not appear to have significantly increased play, though this observation is tentative. This data highlights the economic motivation for releasing new sets to drive digital engagement on Arena, and it’s likely that paper play would follow a similar trend, with increased draft activity consuming more booster packs in the weeks following a new set’s launch.\nIt would be valuable to compare this pattern across different set releases to better understand the player base’s set-by-set preferences.\n\n\n\n\n\n\n\n\nFigure 6: Total Drafts Played by Players Over Time.\n\n\n\n\n\nNext, we normalize for the total games played to observe the relative ranked play across the player base, as shown in Figure 7.\nThis normalization highlights the relative activity at each rank more clearly. After the season starts, Gold exhibits a linear decay as players progress to Platinum. Platinum maintains a prolonged plateau, indicating a balance between new players entering the rank and existing players advancing.\nDiamond and Mythic both start with minimal participation but gradually increase in play almost monotonically, albeit at different rates.\n\n\n\n\n\n\n\n\nFigure 7: Normalized Drafts Played by Players of Different Ranks Over Time.\n\n\n\n\n\n\n\n\nNow, let’s compare player rank performance against success by focusing on the three two-color decks that were outliers in the previous use-rate versus win-rate chart.\n\n\n\nDeck\nUse Rate\nWin Rate\n\n\n\n\nBG\nHigh\nHigh\n\n\nBR\nLow\nHigh\n\n\nUR\nVery Low\nExtremely Low\n\n\n\nIn Figure 8, we analyze the overall performance of players using these decks, categorized by the week of play and whether the player is in the elite ranks of Diamond or Mythic.\nFor BG, the most played deck, performance across weeks and ranks shows no clear trend. However, for the BR and UR decks, which are less frequently played, players in both elite ranks demonstrated noticeable improvements in win rates from week one to week two. This suggests that the 17Lands player base adapted and learned to optimize these less favorable decks, regardless of their rank.\nIt’s important to note that during the first week of play, the Mythic and Diamond player base is relatively small.\n\n\n\n\n\n\n\n\nFigure 8: Win Rate for given color decks for top-ranked players vs others."
  },
  {
    "objectID": "notebooks/10-eda/02-draft-data/01-premier-play/20-player-rank.html#ranks-over-time",
    "href": "notebooks/10-eda/02-draft-data/01-premier-play/20-player-rank.html#ranks-over-time",
    "title": "Bloomburrow (BLB) Arena Draft Analysis",
    "section": "",
    "text": "We then examine the number of drafts played at each rank over time in Figure 5. Since the BLB set was released two days before the season start, I truncated the data at 08-01 to avoid the effects of rank decay.\nThe initial days are chaotic, with the BLB set launching on 07-30, and 07-31 being the first full day of recorded games. On 08-01, the new ranked season began, causing rank decay, which is especially noticeable in Mythic and Diamond gameplay.\nStarting on 08-01, we observe distinct patterns: Gold rapidly declines after an initial peak of 3,800 drafts per day. Platinum peaks during days 4-6 before dropping. Diamond shows a slower climb with a plateau between days 8-13, followed by a gradual decline. Mythic starts at zero and slowly climbs, reaching a peak of 500 drafts per day around days 13-16.\nFrom this chart, it’s unclear how much of the decline at each rank is due to player advancement versus a loss of interest after the initial excitement of a new season. In the following charts, I will normalize the data to the total drafts played to better account for the overall decrease in gameplay.\n\n\nTotal Time Interval: 209 days\n\n\n\n\n\n\n\n\n\n\nFigure 5: Drafts Played by Players Over Time, by Player rank.\n\n\n\n\n\nIn Figure 6, we see the number of drafts played over time. It’s notable that the release of BLB and the start of the new season coincided, driving high player interest, with a peak of 11,300 drafts on 07-31. The rate of play decayed over the weeks, reaching a low of 3,100 on 08-17.\nThe decline is nearly monotonic, with slight increases on the Saturdays of 08-04 and 08-11, indicating that weekly seasonality has only a minor impact.\nReleasing new sets clearly boosts player engagement. However, the introduction of the new season on 08-01 does not appear to have significantly increased play, though this observation is tentative. This data highlights the economic motivation for releasing new sets to drive digital engagement on Arena, and it’s likely that paper play would follow a similar trend, with increased draft activity consuming more booster packs in the weeks following a new set’s launch.\nIt would be valuable to compare this pattern across different set releases to better understand the player base’s set-by-set preferences.\n\n\n\n\n\n\n\n\nFigure 6: Total Drafts Played by Players Over Time.\n\n\n\n\n\nNext, we normalize for the total games played to observe the relative ranked play across the player base, as shown in Figure 7.\nThis normalization highlights the relative activity at each rank more clearly. After the season starts, Gold exhibits a linear decay as players progress to Platinum. Platinum maintains a prolonged plateau, indicating a balance between new players entering the rank and existing players advancing.\nDiamond and Mythic both start with minimal participation but gradually increase in play almost monotonically, albeit at different rates.\n\n\n\n\n\n\n\n\nFigure 7: Normalized Drafts Played by Players of Different Ranks Over Time."
  },
  {
    "objectID": "notebooks/10-eda/02-draft-data/01-premier-play/20-player-rank.html#low-vs-high-rank-players",
    "href": "notebooks/10-eda/02-draft-data/01-premier-play/20-player-rank.html#low-vs-high-rank-players",
    "title": "Bloomburrow (BLB) Arena Draft Analysis",
    "section": "",
    "text": "Now, let’s compare player rank performance against success by focusing on the three two-color decks that were outliers in the previous use-rate versus win-rate chart.\n\n\n\nDeck\nUse Rate\nWin Rate\n\n\n\n\nBG\nHigh\nHigh\n\n\nBR\nLow\nHigh\n\n\nUR\nVery Low\nExtremely Low\n\n\n\nIn Figure 8, we analyze the overall performance of players using these decks, categorized by the week of play and whether the player is in the elite ranks of Diamond or Mythic.\nFor BG, the most played deck, performance across weeks and ranks shows no clear trend. However, for the BR and UR decks, which are less frequently played, players in both elite ranks demonstrated noticeable improvements in win rates from week one to week two. This suggests that the 17Lands player base adapted and learned to optimize these less favorable decks, regardless of their rank.\nIt’s important to note that during the first week of play, the Mythic and Diamond player base is relatively small.\n\n\n\n\n\n\n\n\nFigure 8: Win Rate for given color decks for top-ranked players vs others."
  },
  {
    "objectID": "notebooks/10-eda/02-draft-data/01-premier-play/40-BLB-card.html",
    "href": "notebooks/10-eda/02-draft-data/01-premier-play/40-BLB-card.html",
    "title": "Bloomburrow (BLB) Arena Draft Card Analysis",
    "section": "",
    "text": "Drafting in Magic: The Gathering (MTG) is a complex and dynamic format that challenges players to adapt quickly, make strategic decisions, and understand the evolving meta of each new set. In this analysis, we explore the summary and draft data for Bloomburrow, focusing on draft-level insights without diving into individual cards. We use data from Bloomburrow Premier Drafts, recorded from the 17Lands user base in MTG Arena, a best-of-one draft format where players draft in a pool and play until they win 7 games or lose 3. The Bloomburrow set was released in Arena on July 30, 2024.\nBy examining deck performance, player strategies, and various in-game factors such as mulligans and turn counts, we aim to uncover the key elements that contribute to success in this draft environment. We’ll explore how factors like deck choice, player rank, sideboarding, and the number of turns impact win rates. Additionally, we’ll investigate gameplay differences when players go first versus second and highlight how player behavior evolves throughout a ranked season. Through this analysis, we provide valuable insights to help both seasoned and new drafters make more strategic decisions in the Bloomburrow draft format and beyond.\nTo see other analyses of MTG draft data, check out the Draft Analysis page."
  },
  {
    "objectID": "notebooks/10-eda/02-draft-data/01-premier-play/40-BLB-card.html#color-frequency",
    "href": "notebooks/10-eda/02-draft-data/01-premier-play/40-BLB-card.html#color-frequency",
    "title": "Bloomburrow (BLB) Arena Draft Card Analysis",
    "section": "3.1 Color Frequency",
    "text": "3.1 Color Frequency\nWe start by examining the frequency of decks drafted for each color combination in Figure 1. The ten two-color decks are the most common, aligning with the design intent of Bloomburrow, which focuses on ten two-color animal tribes. Mono-color and multi-color decks are far less common.\n\n\n\n\n\n\n\n\nFigure 1: The rate at which the drafted deck has a given number of main colors.\n\n\n\n\n\nSince Bloomburrow is designed with 2-color tribal decks in mind, we’ll focus on these pairings. In Figure 2, we see the most frequent drafted decks are Black-Green, White-Green, and Red-White. On the other hand, the least drafted are Blue-Black, Blue-Red and White-Blue.\n\n\n\n\n\n\n\n\nFigure 2: The rate at which the drafted deck is a given 2-color pair.\n\n\n\n\n\nFigure 3 shows the color composition of the decks. Green stands out as the most frequently drafted color, with Black and White also being popular choices. In contrast, Red and Blue are drafted far less frequently.\nThe average draft use rate per component color is 40.0%.\n\n\n\n\n\n\n\n\nFigure 3: The rate at which the drafted deck contains a given color in the main deck colors.\n\n\n\n\n\nNext, we examine the four decks with the largest absolute changes in use between the start and end of the time period, shown in Figure 4. The White-Green (WG) and White-Black (WB) decks exhibit the largest increases in use, while the Blue-Red (UR) and White-Red (WR) decks show the most significant decreases.\n\n\n\n\n\n\n\n\nFigure 4: Frequency of Drafted Decks by Two-Color Pair: This figure shows the rate at which different two-color pairs are drafted, highlighting trends and preferences in deck selection over time."
  },
  {
    "objectID": "notebooks/10-eda/02-draft-data/01-premier-play/40-BLB-card.html#color-win-rates",
    "href": "notebooks/10-eda/02-draft-data/01-premier-play/40-BLB-card.html#color-win-rates",
    "title": "Bloomburrow (BLB) Arena Draft Card Analysis",
    "section": "3.2 Color Win Rates",
    "text": "3.2 Color Win Rates\nIn addition to analyzing the use rates of the colors, we’ll also examine their win rates. First, we calculate the weighted average win rate, which is 54.7%. As highlighted in the summary section, this win rate suggests that the 17Lands player base performs better than the general draft player base.\nFigure 5 presents the win rates for each color combination. While some mono-color decks have notably high win rates, their low use rates suggest that these results may be circumstantial due to small sample sizes.\n\n\n\n\n\n\n\n\nFigure 5: The rate at which the drafted deck is a given 2-color pair.\n\n\n\n\n\nIn Figure 6, we focus on the 2-color decks. The Black-Red Lizards: Opponents Lose Life deck boasts the highest win rate, though it has a relatively low use rate. Meanwhile, the White-Red Rabbits: Go-Wide and Black-Green Squirrels: Forage decks are the most popular and also maintain high win rates.\n\n\n\n\n\n\n\n\nFigure 6: The win rate for each 2-color pair.\n\n\n\n\n\nFigure 7 shows the win rates for the five primary colors, based on whether they serve as a main component in a deck. For example, the “B” results reflect the win rates for Black in decks such as WB, BG, Mono-Black, and UBR.\nThe overall average win rate for the data is 54.7%. Decks featuring Black perform the best, achieving a 55.2% win rate. Green and White decks also perform well, with win rates of 55.0% and 54.8%, respectively. On the other hand, decks with Red and Blue underperform, with win rates of 53.8% and 53.2%.\n\n\n\n\n\n\n\n\nFigure 7: The win rate for each given color in the main deck colors."
  },
  {
    "objectID": "notebooks/10-eda/02-draft-data/01-premier-play/40-BLB-card.html#win-rate-over-time",
    "href": "notebooks/10-eda/02-draft-data/01-premier-play/40-BLB-card.html#win-rate-over-time",
    "title": "Bloomburrow (BLB) Arena Draft Card Analysis",
    "section": "3.3 Win Rate over Time",
    "text": "3.3 Win Rate over Time\nIt’s also insightful to observe how the win rates for two-color decks evolve over time. I selected the four decks with the largest absolute changes in win rate between the start and end of the period. In Figure 8, we see that the White-Red (WR), White-Black (WB), and another White-Red (WR) deck start with high win rates but gradually decline over time. Conversely, the Blue-Red (UR) deck begins with a low win rate but shows an upward trend as time progresses.\n\n\n\n\n\n\n\n\nFigure 8"
  },
  {
    "objectID": "notebooks/10-eda/02-draft-data/01-premier-play/40-BLB-card.html#color-freq-vs-win-rate",
    "href": "notebooks/10-eda/02-draft-data/01-premier-play/40-BLB-card.html#color-freq-vs-win-rate",
    "title": "Bloomburrow (BLB) Arena Draft Card Analysis",
    "section": "3.4 Color Freq vs Win Rate",
    "text": "3.4 Color Freq vs Win Rate\nNext, let’s compare the use rate to the win rate to see if the player base is well-calibrated in their deck selections based on performance.\nIn Figure 9, we observe that most of the two-color decks align along a straight line, indicating a balanced relationship between use rate and win rate, with two notable outliers. The Blue-Red Otters: Non-creature Spells deck underperforms relative to its use rate, suggesting it may be over-selected. In contrast, the Black-Red Lizards: Opponents Lose Life deck is a hidden gem, boasting the highest win rates but being picked less frequently than the average two-color deck.\nThis under-selection of Black-Red likely stems from the general underperformance of Red, leading many drafters to avoid it unless they secure strong Black-Red cards early. On the other hand, White, Green, and Black perform well, making the BG, WG, and WB decks popular and flexible choices that players can easily pivot to during drafts.\n\n\n\n\n\n\n\n\nFigure 9: Win Rate vs Use Rate of 2-Color Draft Decks"
  },
  {
    "objectID": "notebooks/10-eda/02-draft-data/01-premier-play/40-BLB-card.html#wedges-vs-shards",
    "href": "notebooks/10-eda/02-draft-data/01-premier-play/40-BLB-card.html#wedges-vs-shards",
    "title": "Bloomburrow (BLB) Arena Draft Card Analysis",
    "section": "3.5 Wedges vs Shards",
    "text": "3.5 Wedges vs Shards\nMagic: The Gathering color theory includes five wedges and five shards. Wedges are three-color decks built around a primary color and its two allies, while shards consist of a primary color and its two enemies. Conventional wisdom suggests that wedges are generally easier to draft than shards.\nHowever, as shown in Figure 10, the shards have a slightly higher win rate and use rate compared to the wedges. This finding is somewhat unexpected but the difference is minimal.\n\n\n\n\n\n\n\n\nFigure 10: The win rate for shards versus wedges."
  },
  {
    "objectID": "notebooks/10-eda/02-draft-data/01-premier-play/40-BLB-card.html#ranks-over-time",
    "href": "notebooks/10-eda/02-draft-data/01-premier-play/40-BLB-card.html#ranks-over-time",
    "title": "Bloomburrow (BLB) Arena Draft Card Analysis",
    "section": "7.1 Ranks over Time",
    "text": "7.1 Ranks over Time\nWe then examine the number of drafts played at each rank over time in Figure 21. Since the BLB set was released two days before the season start, I truncated the data at 08-01 to avoid the effects of rank decay.\nThe initial days are chaotic, with the BLB set launching on 07-30, and 07-31 being the first full day of recorded games. On 08-01, the new ranked season began, causing rank decay, which is especially noticeable in Mythic and Diamond gameplay.\nStarting on 08-01, we observe distinct patterns: Gold rapidly declines after an initial peak of 3,800 drafts per day. Platinum peaks during days 4-6 before dropping. Diamond shows a slower climb with a plateau between days 8-13, followed by a gradual decline. Mythic starts at zero and slowly climbs, reaching a peak of 500 drafts per day around days 13-16.\nFrom this chart, it’s unclear how much of the decline at each rank is due to player advancement versus a loss of interest after the initial excitement of a new season. In the following charts, I will normalize the data to the total drafts played to better account for the overall decrease in gameplay.\n\n\nTotal Time Interval: 19 days 00:00:00\n\n\n\n\n\n\n\n\n\n\nFigure 21: Drafts Played by Players Over Time, by Player rank.\n\n\n\n\n\nIn Figure 22, we see the number of drafts played over time. It’s notable that the release of BLB and the start of the new season coincided, driving high player interest, with a peak of 11,300 drafts on 07-31. The rate of play decayed over the weeks, reaching a low of 3,100 on 08-17.\nThe decline is nearly monotonic, with slight increases on the Saturdays of 08-04 and 08-11, indicating that weekly seasonality has only a minor impact.\nReleasing new sets clearly boosts player engagement. However, the introduction of the new season on 08-01 does not appear to have significantly increased play, though this observation is tentative. This data highlights the economic motivation for releasing new sets to drive digital engagement on Arena, and it’s likely that paper play would follow a similar trend, with increased draft activity consuming more booster packs in the weeks following a new set’s launch.\nIt would be valuable to compare this pattern across different set releases to better understand the player base’s set-by-set preferences.\n\n\n\n\n\n\n\n\nFigure 22: Total Drafts Played by Players Over Time.\n\n\n\n\n\nNext, we normalize for the total games played to observe the relative ranked play across the player base, as shown in Figure 23.\nThis normalization highlights the relative activity at each rank more clearly. After the season starts, Gold exhibits a linear decay as players progress to Platinum. Platinum maintains a prolonged plateau, indicating a balance between new players entering the rank and existing players advancing.\nDiamond and Mythic both start with minimal participation but gradually increase in play almost monotonically, albeit at different rates.\n\n\n\n\n\n\n\n\nFigure 23: Normalized Drafts Played by Players of Different Ranks Over Time."
  },
  {
    "objectID": "notebooks/10-eda/02-draft-data/01-premier-play/40-BLB-card.html#low-vs-high-rank-players",
    "href": "notebooks/10-eda/02-draft-data/01-premier-play/40-BLB-card.html#low-vs-high-rank-players",
    "title": "Bloomburrow (BLB) Arena Draft Card Analysis",
    "section": "7.2 Low vs High Rank Players",
    "text": "7.2 Low vs High Rank Players\nNow, let’s compare player rank performance against success by focusing on the three two-color decks that were outliers in the previous use-rate versus win-rate chart.\n\n\n\nDeck\nUse Rate\nWin Rate\n\n\n\n\nBG\nHigh\nHigh\n\n\nBR\nLow\nHigh\n\n\nUR\nVery Low\nExtremely Low\n\n\n\nIn Figure 24, we analyze the overall performance of players using these decks, categorized by the week of play and whether the player is in the elite ranks of Diamond or Mythic.\nFor BG, the most played deck, performance across weeks and ranks shows no clear trend. However, for the BR and UR decks, which are less frequently played, players in both elite ranks demonstrated noticeable improvements in win rates from week one to week two. This suggests that the 17Lands player base adapted and learned to optimize these less favorable decks, regardless of their rank.\nIt’s important to note that during the first week of play, the Mythic and Diamond player base is relatively small.\n\n\n\n\n\n\n\n\nFigure 24: Win Rate for given color decks for top-ranked players vs others."
  },
  {
    "objectID": "notebooks/10-eda/02-draft-data/01-premier-play/21-mulligans.html",
    "href": "notebooks/10-eda/02-draft-data/01-premier-play/21-mulligans.html",
    "title": "Bloomburrow (BLB) Arena Draft Analysis",
    "section": "",
    "text": "Mulligans are a crucial strategy in MTG. If a player’s starting hand is not ideal, they can draw a new one, each time with one fewer card. This process can be repeated as needed, creating a challenging trade-off between a poor hand and a smaller one.\nIn Figure 1, we observe the distribution of mulligans by the number of re-draws. Most players do not take a mulligan; about 12% take one mulligan, and 2% take two. Very few players take three or more mulligans, with only two instances of a player taking five mulligans, resulting in a starting hand of just two cards.\nWe also see that 17Lands players are slightly less likely to take mulligans compared to their opponents, likely due to a combination of superior deck construction and more informed mulligan decisions.\n\n\n\n---------------------------------------------------------------------------\nFileNotFoundError                         Traceback (most recent call last)\nCell In[5], line 3\n      1 df_games = pl.scan_parquet(game_file)\n----&gt; 3 sum_df = df_summary.collect().to_pandas()\n      4 mean_mulligan_rate = (sum_df[\"n_mul\"] / sum_df[\"n_games\"]).values[0]\n      6 df_mul = df_games.unpivot(\n      7     index=[\"num_mulligans\"],\n      8     on=[\"num_mulligans\", \"opp_num_mulligans\"],\n      9     variable_name=\"Player\",\n     10     value_name=\"mulligan_count\",\n     11 )\n\nFile ~/miniconda3/envs/dl+bayes-env/lib/python3.12/site-packages/polars/lazyframe/frame.py:2027, in LazyFrame.collect(self, type_coercion, predicate_pushdown, projection_pushdown, simplify_expression, slice_pushdown, comm_subplan_elim, comm_subexpr_elim, cluster_with_columns, no_optimization, streaming, engine, background, _eager, **_kwargs)\n   2025 # Only for testing purposes\n   2026 callback = _kwargs.get(\"post_opt_callback\", callback)\n-&gt; 2027 return wrap_df(ldf.collect(callback))\n\nFileNotFoundError: No such file or directory (os error 2): data/processed/17lands/game_data/premier_draft/All_Sets_Game_PD_Summary.parquet\n\n\n\n\n\n\n\n\n\n\n\nFigure 1: Distribution of Mulligans.\n\n\n\n\n\nA side note on probability distributions: the player mulligan distributions appear to resemble Poisson distributions, with the number of mulligans taken being a discrete event.\nUsing the mean number of mulligans per game, 0.136, I performed random sampling from a Poisson distribution with \\(\\lambda=0.136\\). The results, shown in Figure 2, closely match the actual data, though the real data shows a slightly higher number of games with one mulligan and slightly fewer for other values.\nWe can further investigate this pattern when we explore the card data to identify random draw events that correlate with mulligan decisions, such as the number of lands in the starting hand.\n\n\n\n---------------------------------------------------------------------------\nNameError                                 Traceback (most recent call last)\nCell In[9], line 4\n      1 n_games = df_games.collect().shape[0]\n      3 df_games = df_games.with_columns(\n----&gt; 4     pl.Series(np.random.poisson(lam=mean_mulligan_rate, size=n_games)).alias(\n      5         \"sampled_mul\"\n      6     )\n      7 )\n      9 df_mul_sample = df_games.unpivot(\n     10     index=[\"draft_id\"],\n     11     on=[\"num_mulligans\", \"sampled_mul\"],\n     12     variable_name=\"Distribution\",\n     13     value_name=\"mulligan_count\",\n     14 )\n     17 df_mul_sample = df_mul_sample.collect().to_pandas()\n\nNameError: name 'np' is not defined\n\n\n\n\n\n\n\n\n---------------------------------------------------------------------------\nNameError                                 Traceback (most recent call last)\nCell In[10], line 10\n      1 # | label: fig-mulligan-poisson\n      2 # | fig-cap: \"Distribution of Player Mulligans vs Poisson Distribution.\"\n      4 custom_palette = {\n      5     \"num_mulligans\": \"#1f77b4\",\n      6     \"sampled_mul\": \"#2ca02c\",\n      7 }\n      9 g = sns.displot(\n---&gt; 10     data=df_mul_sample,\n     11     y=\"mulligan_count\",\n     12     hue=\"Distribution\",\n     13     multiple=\"dodge\",\n     14     stat=\"proportion\",\n     15     common_norm=False,\n     16     discrete=True,\n     17     shrink=0.8,\n     18     element=\"bars\",\n     19     palette=custom_palette,\n     20 )\n     22 plt.gca().set(xlim=(0, 1))\n     23 anno.set_labels_to_percent()\n\nNameError: name 'df_mul_sample' is not defined\n\n\n\n\nFigure 2\n\n\n\nWe now examine the outcomes of games where mulligans occur. In Figure 3, we see a clear near-linear relationship between the number of mulligans and win rates, with win rates decreasing by approximately 15% for each mulligan taken.\nWhen comparing 17Lands players to their opponents, the rate of win decay is consistent, maintaining an 8-9% gap in favor of 17Lands players at each mulligan level.\nThis data does not reveal the causal relationship between mulligans and win rates. It’s unclear whether mulligans are inherently detrimental or simply indicative of bad starting hands that would have had an even lower probability of winning. This question could be further explored using card data to assess the quality of starting hands that led to mulligans.\n\n\n\n\n\n\n\n\nFigure 3: Win Rates for Players and Opponents by Mulligans."
  },
  {
    "objectID": "notebooks/10-eda/02-draft-data/01-premier-play/11-OTJ-deck.html",
    "href": "notebooks/10-eda/02-draft-data/01-premier-play/11-OTJ-deck.html",
    "title": "Outlaws of Thunder Junction (OTJ) Arena Draft Analysis",
    "section": "",
    "text": "Drafting in Magic: The Gathering (MTG) is a complex and dynamic format that challenges players to adapt quickly, make strategic decisions, and understand the evolving meta of each new set. In this analysis, we explore the Outlaws of Thunder Junction (OTJ) set, which was released in Arena on April 16, 2024. We will investigate the effect of deck color choices on player win rates.\nWe use data from the 17Lands for the premier draft format on MTG Arena, a best-of-one draft format where players draft in a pool and play until they win 7 games or lose 3.\nBy examining deck performance aim to uncover the key elements that contribute to success in this draft environment. Through this analysis, we provide valuable insights to help both seasoned and new drafters make more strategic decisions in the Bloomburrow draft format and beyond.\nTo see other analyses of MTG draft data, check out the Draft Analysis page."
  },
  {
    "objectID": "notebooks/10-eda/02-draft-data/01-premier-play/11-OTJ-deck.html#color-frequency",
    "href": "notebooks/10-eda/02-draft-data/01-premier-play/11-OTJ-deck.html#color-frequency",
    "title": "Outlaws of Thunder Junction (OTJ) Arena Draft Analysis",
    "section": "3.1 Color Frequency",
    "text": "3.1 Color Frequency\nWe start by examining the frequency of decks drafted for each color combination in Figure 1. The ten two-color decks are the most common, with mono-color and multi-color decks are far less common. This is consistent across all sets analyzed.\n\n\n\n\n\n\n\n\nFigure 1: The rate at which the drafted deck has a given number of main colors.\n\n\n\n\n\nSince two-color decks are the most common, we’ll focus on these pairings. In Figure 2, we see the most frequent drafted decks are White-Green, Black-Green, and Blue-Black. On the other hand, the least drafted are Blue-Red, White-Red, White-Blue.\n\n\n\n\n\n\n\n\nFigure 2: The rate at which the drafted deck is a given 2-color pair.\n\n\n\n\n\nFigure 3 shows the color composition of the decks. Green stands out as the most frequently drafted color, with Black and White also being popular choices. In contrast, Red and Blue are drafted far less frequently.\n\n\n\n\n\n\n\n\nFigure 3: The rate at which the drafted deck contains a given color in the main deck colors.\n\n\n\n\n\nNext, we examine the four decks with the largest absolute changes in use between the start and end of the time period, shown in Figure 4. The White-Green and White-Black increase in use over the weeks, with Black-Red and Blue-Red losing favor.\n\n\n\n\n\n\n\n\nFigure 4: Frequency of Drafted Decks by Two-Color Pair: This figure shows the rate at which different two-color pairs are drafted, highlighting trends and preferences in deck selection over time."
  },
  {
    "objectID": "notebooks/10-eda/02-draft-data/01-premier-play/11-OTJ-deck.html#color-win-rates",
    "href": "notebooks/10-eda/02-draft-data/01-premier-play/11-OTJ-deck.html#color-win-rates",
    "title": "Outlaws of Thunder Junction (OTJ) Arena Draft Analysis",
    "section": "3.2 Color Win Rates",
    "text": "3.2 Color Win Rates\nIn addition to analyzing the use rates of the colors, we’ll also examine their win rates. First, we calculate the weighted average win rate, which is 54.14%. As highlighted in the summary section, this win rate suggests that the 17Lands player base performs better than the general draft player base.\nFigure 5 presents the win rates for each color combination. While some mono-color decks have notably high win rates, their low use rates suggest that these results may be circumstantial due to small sample sizes.\n\n\n\n\n\n\n\n\nFigure 5: The rate at which the drafted deck is a given 2-color pair.\n\n\n\n\n\nIn Figure 6, we focus on the 2-color decks. The White-Green deck dominates with a &gt;57% win rate. The Blue-Red is the least successful, with a win rate of 50.5%.\n\n\n\n\n\n\n\n\nFigure 6: The win rate for each 2-color pair.\n\n\n\n\n\nFigure 7 shows the win rates for the five primary colors, based on whether they serve as a main component in a deck. For example, the “B” results reflect the win rates for Black in decks such as WB, BG, Mono-Black, and UBR.\nThe decks using green perform the best, with ones using blue performing the worst.\n\n\n\n\n\n\n\n\nFigure 7: The win rate for each given color in the main deck colors."
  },
  {
    "objectID": "notebooks/10-eda/02-draft-data/01-premier-play/11-OTJ-deck.html#win-rate-over-time",
    "href": "notebooks/10-eda/02-draft-data/01-premier-play/11-OTJ-deck.html#win-rate-over-time",
    "title": "Outlaws of Thunder Junction (OTJ) Arena Draft Analysis",
    "section": "3.3 Win Rate over Time",
    "text": "3.3 Win Rate over Time\nIt’s also insightful to observe how the win rates for two-color decks evolve over time. I selected the four decks with the largest absolute changes in win rate between the start and end of the period. In Figure 8, we see that the most decks stay fairly consistent. The White-Green deck shows a sizable drop in performance during the first few weeks.\n\n\n\n\n\n\n\n\nFigure 8"
  },
  {
    "objectID": "notebooks/10-eda/02-draft-data/01-premier-play/11-OTJ-deck.html#color-freq-vs-win-rate",
    "href": "notebooks/10-eda/02-draft-data/01-premier-play/11-OTJ-deck.html#color-freq-vs-win-rate",
    "title": "Outlaws of Thunder Junction (OTJ) Arena Draft Analysis",
    "section": "3.4 Color Freq vs Win Rate",
    "text": "3.4 Color Freq vs Win Rate\nNext, let’s compare the use rate to the win rate to see if the player base is well-calibrated in their deck selections based on performance.\nIn Figure 9, we observe a fairly strong correlation between win rate and draft rate. The White-Green and Blue-Green decks align nicely with this trend.\n\n\n\n\n\n\n\n\nFigure 9: Win Rate vs Use Rate of 2-Color Draft Decks"
  },
  {
    "objectID": "notebooks/10-eda/02-draft-data/01-premier-play/11-OTJ-deck.html#wedges-vs-shards",
    "href": "notebooks/10-eda/02-draft-data/01-premier-play/11-OTJ-deck.html#wedges-vs-shards",
    "title": "Outlaws of Thunder Junction (OTJ) Arena Draft Analysis",
    "section": "3.5 Wedges vs Shards",
    "text": "3.5 Wedges vs Shards\nMagic: The Gathering color theory includes five wedges and five shards. Wedges are three-color decks built around a primary color and its two allies, while shards consist of a primary color and its two enemies. Conventional wisdom suggests that wedges are generally easier to draft than shards.\nHowever, as shown in Figure 10, the difference in win rate is minimal.\n\n\n\n\n\n\n\n\nFigure 10: The win rate for shards versus wedges."
  },
  {
    "objectID": "notebooks/10-eda/02-draft-data/01-premier-play/00-intro.html",
    "href": "notebooks/10-eda/02-draft-data/01-premier-play/00-intro.html",
    "title": "Premier Draft Data Analysis Overview",
    "section": "",
    "text": "I have always been curious about Draft format in MTG, as it requires one to be good at the game, but also building competitive decks in a highly constrained environment. I have been analyzing the latests sets to see how they each perform in draft.\nCurrently I have analyzed the deck performance for the recent sets. Soon I will add analysis at the card level to see which cards are the most valuable in draft.\n\n\n\n\n\nSet Name\nCode\nArena Release Date\nDeck Analysis\nCard Analysis\n\n\n\n\nMurders at Karlov Manor\nMKM\n2024-02-09\nMKM Deck\n-\n\n\nOutlaws of Thunder Junction\nOTJ\n2024-04-16\nOTJ Deck\n-\n\n\nModern Horizons 3\nMH3\n2024-06-11\nMH3 Deck\n-\n\n\nBloomburrow\nBLB\n2024-07-30\nBLB Deck\n-\n\n\nDuskmourn: House of Horror\nDSK\n2024-09-24\n-\n-\n\n\n\n \n\n\n\nSome aspects of the game don’t very much between sets. These general analysis are:\n\n\n\n\n\nStarting Player"
  },
  {
    "objectID": "notebooks/10-eda/02-draft-data/01-premier-play/00-intro.html#set-analyzed",
    "href": "notebooks/10-eda/02-draft-data/01-premier-play/00-intro.html#set-analyzed",
    "title": "Premier Draft Data Analysis Overview",
    "section": "",
    "text": "Set Name\nCode\nArena Release Date\nDeck Analysis\nCard Analysis\n\n\n\n\nMurders at Karlov Manor\nMKM\n2024-02-09\nMKM Deck\n-\n\n\nOutlaws of Thunder Junction\nOTJ\n2024-04-16\nOTJ Deck\n-\n\n\nModern Horizons 3\nMH3\n2024-06-11\nMH3 Deck\n-\n\n\nBloomburrow\nBLB\n2024-07-30\nBLB Deck\n-\n\n\nDuskmourn: House of Horror\nDSK\n2024-09-24\n-\n-"
  },
  {
    "objectID": "notebooks/10-eda/02-draft-data/01-premier-play/00-intro.html#other-analysis",
    "href": "notebooks/10-eda/02-draft-data/01-premier-play/00-intro.html#other-analysis",
    "title": "Premier Draft Data Analysis Overview",
    "section": "",
    "text": "Some aspects of the game don’t very much between sets. These general analysis are:\n\n\n\n\n\nStarting Player"
  },
  {
    "objectID": "notebooks/10-eda/02-draft-data/01-premier-play/00-intro.html#data-source",
    "href": "notebooks/10-eda/02-draft-data/01-premier-play/00-intro.html#data-source",
    "title": "Premier Draft Data Analysis Overview",
    "section": "3.1 Data Source",
    "text": "3.1 Data Source\n17Lands offers public datasets for download. The data is available in CSV format. The newest sets are updated regularly for a few months after initial set release."
  },
  {
    "objectID": "notebooks/10-eda/02-draft-data/01-premier-play/00-intro.html#data-files",
    "href": "notebooks/10-eda/02-draft-data/01-premier-play/00-intro.html#data-files",
    "title": "Premier Draft Data Analysis Overview",
    "section": "3.2 Data Files",
    "text": "3.2 Data Files\nThere are 3 files types available.\n\nDraftData: Data related to the draft pool and picks.\nGameData: Data related to game play and outcomes.\nReplayData: Detailed data related to player actions in game play."
  },
  {
    "objectID": "notebooks/10-eda/02-draft-data/01-premier-play/00-intro.html#game-formats",
    "href": "notebooks/10-eda/02-draft-data/01-premier-play/00-intro.html#game-formats",
    "title": "Premier Draft Data Analysis Overview",
    "section": "3.3 Game Formats",
    "text": "3.3 Game Formats\nThe game formats can be Draft or Sealed.\n\nDraft: A set of 8 players open a shared pool of packs and select cards to build a deck.\nSealed: A player opens a set of packs and selects cards to build a deck.\n\nThe tournament types can be Traditional or Premier.\n\nTraditional: A best of 3 match with sideboarding.\nPremier: A best of 1 match."
  },
  {
    "objectID": "notebooks/10-eda/02-draft-data/01-premier-play/00-intro.html#terms",
    "href": "notebooks/10-eda/02-draft-data/01-premier-play/00-intro.html#terms",
    "title": "Premier Draft Data Analysis Overview",
    "section": "3.4 Terms",
    "text": "3.4 Terms\nThe following terms are used in the data set:\n\ngame: a single game of MTG\nmatch: a series of games between two players. Typically best of 1 or best of 3.\ndraft: an initial draft event, followed by a series of matches between a group of players.\nbuild: a instance of a deck in a draft. Can be adjusted between games."
  },
  {
    "objectID": "notebooks/10-eda/02-draft-data/01-premier-play/12-MH3-deck.html",
    "href": "notebooks/10-eda/02-draft-data/01-premier-play/12-MH3-deck.html",
    "title": "Modern Horizons III (MH3) Arena Draft Analysis",
    "section": "",
    "text": "Drafting in Magic: The Gathering (MTG) is a complex and dynamic format that challenges players to adapt quickly, make strategic decisions, and understand the evolving meta of each new set. In this analysis, we explore the Modern Horizons III (MH3) set, which was released in Arena on June 11, 2024. We will investigate the effect of deck color choices on player win rates.\nWe use data from the 17Lands for the premier draft format on MTG Arena, a best-of-one draft format where players draft in a pool and play until they win 7 games or lose 3.\nBy examining deck performance aim to uncover the key elements that contribute to success in this draft environment. Through this analysis, we provide valuable insights to help both seasoned and new drafters make more strategic decisions in the Bloomburrow draft format and beyond.\nTo see other analyses of MTG draft data, check out the Draft Analysis page."
  },
  {
    "objectID": "notebooks/10-eda/02-draft-data/01-premier-play/12-MH3-deck.html#color-frequency",
    "href": "notebooks/10-eda/02-draft-data/01-premier-play/12-MH3-deck.html#color-frequency",
    "title": "Modern Horizons III (MH3) Arena Draft Analysis",
    "section": "3.1 Color Frequency",
    "text": "3.1 Color Frequency\nWe start by examining the frequency of decks drafted for each color combination in Figure 1. The ten two-color decks are the most common, with mono-color and multi-color decks are far less common. This is consistent across all sets analyzed.\n\n\n\n\n\n\n\n\nFigure 1: The rate at which the drafted deck has a given number of main colors.\n\n\n\n\n\nSince two-color decks are the most common, we’ll focus on these pairings. In Figure 2, we see the most frequent drafted decks are White-Red, Blue-Green, and Red-Green. On the other hand, the least drafted are White-Blue, White-Black, and Blue-Red.\n\n\n\n\n\n\n\n\nFigure 2: The rate at which the drafted deck is a given 2-color pair.\n\n\n\n\n\nFigure 3 shows the color composition of the decks. Red stands out as the most frequently drafted color, with Green and Blue also being popular choices. In contrast, White and Black are drafted far less frequently.\n\n\n\n\n\n\n\n\nFigure 3: The rate at which the drafted deck contains a given color in the main deck colors.\n\n\n\n\n\nNext, we examine the four decks with the largest absolute changes in use between the start and end of the time period, shown in Figure 4. The White-Red and Blue-Black have large increases in the first few weeks. Blue-Green and Black-Red loose favor over time.\n\n\n\n\n\n\n\n\nFigure 4: Frequency of Drafted Decks by Two-Color Pair: This figure shows the rate at which different two-color pairs are drafted, highlighting trends and preferences in deck selection over time."
  },
  {
    "objectID": "notebooks/10-eda/02-draft-data/01-premier-play/12-MH3-deck.html#color-win-rates",
    "href": "notebooks/10-eda/02-draft-data/01-premier-play/12-MH3-deck.html#color-win-rates",
    "title": "Modern Horizons III (MH3) Arena Draft Analysis",
    "section": "3.2 Color Win Rates",
    "text": "3.2 Color Win Rates\nIn addition to analyzing the use rates of the colors, we’ll also examine their win rates. First, we calculate the weighted average win rate, which is 55.10%. As highlighted in the summary section, this win rate suggests that the 17Lands player base performs better than the general draft player base.\nFigure 5 presents the win rates for each color combination. While some mono-color decks have notably high win rates, their low use rates suggest that these results may be circumstantial due to small sample sizes.\n\n\n\n\n\n\n\n\nFigure 5: The rate at which the drafted deck is a given 2-color pair.\n\n\n\n\n\nIn Figure 6, we focus on the 2-color decks. The Red-Green and White-Red both have impressive win rates above 59%.\n\n\n\n\n\n\n\n\nFigure 6: The win rate for each 2-color pair.\n\n\n\n\n\nFigure 7 shows the win rates for the five primary colors, based on whether they serve as a main component in a deck. For example, the “B” results reflect the win rates for Black in decks such as WB, BG, Mono-Black, and UBR.\nThe decks using red perform the best, with ones using black performing the worst.\n\n\n\n\n\n\n\n\nFigure 7: The win rate for each given color in the main deck colors."
  },
  {
    "objectID": "notebooks/10-eda/02-draft-data/01-premier-play/12-MH3-deck.html#win-rate-over-time",
    "href": "notebooks/10-eda/02-draft-data/01-premier-play/12-MH3-deck.html#win-rate-over-time",
    "title": "Modern Horizons III (MH3) Arena Draft Analysis",
    "section": "3.3 Win Rate over Time",
    "text": "3.3 Win Rate over Time\nIt’s also insightful to observe how the win rates for two-color decks evolve over time. I selected the four decks with the largest absolute changes in win rate between the start and end of the period. In Figure 8, we see that the We see a lot of shuffling, with the Blue-black deck slowly improving over time compared to the other decks.\n\n\n\n\n\n\n\n\nFigure 8"
  },
  {
    "objectID": "notebooks/10-eda/02-draft-data/01-premier-play/12-MH3-deck.html#color-freq-vs-win-rate",
    "href": "notebooks/10-eda/02-draft-data/01-premier-play/12-MH3-deck.html#color-freq-vs-win-rate",
    "title": "Modern Horizons III (MH3) Arena Draft Analysis",
    "section": "3.4 Color Freq vs Win Rate",
    "text": "3.4 Color Freq vs Win Rate\nNext, let’s compare the use rate to the win rate to see if the player base is well-calibrated in their deck selections based on performance.\nIn Figure 9, we observe that the alignment between draft rate and win rate correlates poorly for the MH3 set when compared to the other sets.\nThe White-Red and Red-Green have win rates much higher than the associated draft rate. Conversely, the Blue-Green deck is over-drafted compared to its relative win rate.\n\n\n\n\n\n\n\n\nFigure 9: Win Rate vs Use Rate of 2-Color Draft Decks"
  },
  {
    "objectID": "notebooks/10-eda/02-draft-data/01-premier-play/12-MH3-deck.html#wedges-vs-shards",
    "href": "notebooks/10-eda/02-draft-data/01-premier-play/12-MH3-deck.html#wedges-vs-shards",
    "title": "Modern Horizons III (MH3) Arena Draft Analysis",
    "section": "3.5 Wedges vs Shards",
    "text": "3.5 Wedges vs Shards\nMagic: The Gathering color theory includes five wedges and five shards. Wedges are three-color decks built around a primary color and its two allies, while shards consist of a primary color and its two enemies. Conventional wisdom suggests that wedges are generally easier to draft than shards.\nHowever, as shown in Figure 10, the win rate spread is negligible. It is interesting the number of shard drafts is almost 3x more that the number of wedges.\n\n\n\n\n\n\n\n\nFigure 10: The win rate for shards versus wedges."
  },
  {
    "objectID": "notebooks/10-eda/02-draft-data/01-premier-play/10-MKM-deck.html",
    "href": "notebooks/10-eda/02-draft-data/01-premier-play/10-MKM-deck.html",
    "title": "Murders at Karlov Manor (MKM) Arena Draft Analysis",
    "section": "",
    "text": "Drafting in Magic: The Gathering (MTG) is a complex and dynamic format that challenges players to adapt quickly, make strategic decisions, and understand the evolving meta of each new set. In this analysis, we explore the Murders at Karlov Manor (MKM) set, which was released in Arena on February 09, 2024. We will investigate the effect of deck color choices on player win rates.\nWe use data from the 17Lands for the premier draft format on MTG Arena, a best-of-one draft format where players draft in a pool and play until they win 7 games or lose 3.\nBy examining deck performance aim to uncover the key elements that contribute to success in this draft environment. Through this analysis, we provide valuable insights to help both seasoned and new drafters make more strategic decisions in the Bloomburrow draft format and beyond.\nTo see other analyses of MTG draft data, check out the Draft Analysis page."
  },
  {
    "objectID": "notebooks/10-eda/02-draft-data/01-premier-play/10-MKM-deck.html#color-frequency",
    "href": "notebooks/10-eda/02-draft-data/01-premier-play/10-MKM-deck.html#color-frequency",
    "title": "Murders at Karlov Manor (MKM) Arena Draft Analysis",
    "section": "3.1 Color Frequency",
    "text": "3.1 Color Frequency\nWe start by examining the frequency of decks drafted for each color combination in Figure 1. The ten two-color decks are the most common, with mono-color and multi-color decks are far less common. This is consistent across all sets analyzed.\n\n\n\n\n\n\n\n\nFigure 1: The rate at which the drafted deck has a given number of main colors.\n\n\n\n\n\nSince two-color decks are the most common, we’ll focus on these pairings. In Figure 2, we see the most frequent drafted decks are White-Red, White-Green, and White-BLue. On the other hand, the least drafted are White-Black, Black-Red, and Blue-Black.\n\n\n\n\n\n\n\n\nFigure 2: The rate at which the drafted deck is a given 2-color pair.\n\n\n\n\n\nFigure 3 shows the color composition of the decks. Green stands out as the most frequently drafted color, with Black and White also being popular choices. In contrast, Red and Blue are drafted far less frequently.\nThe average draft use rate per component color is 40.0%.\n\n\n\n\n\n\n\n\nFigure 3: The rate at which the drafted deck contains a given color in the main deck colors.\n\n\n\n\n\nNext, we examine the four decks with the largest absolute changes in use between the start and end of the time period, shown in Figure 4. The Blue-Green and White-Green increase over time, while White-Blue and Black-Red lose favor.\n\n\n\n\n\n\n\n\nFigure 4: Frequency of Drafted Decks by Two-Color Pair: This figure shows the rate at which different two-color pairs are drafted, highlighting trends and preferences in deck selection over time."
  },
  {
    "objectID": "notebooks/10-eda/02-draft-data/01-premier-play/10-MKM-deck.html#color-win-rates",
    "href": "notebooks/10-eda/02-draft-data/01-premier-play/10-MKM-deck.html#color-win-rates",
    "title": "Murders at Karlov Manor (MKM) Arena Draft Analysis",
    "section": "3.2 Color Win Rates",
    "text": "3.2 Color Win Rates\nIn addition to analyzing the use rates of the colors, we’ll also examine their win rates. First, we calculate the weighted average win rate, which is 54.98%. As highlighted in the summary section, this win rate suggests that the 17Lands player base performs better than the general draft player base.\nFigure 5 presents the win rates for each color combination. While some mono-color decks have notably high win rates, their low use rates suggest that these results may be circumstantial due to small sample sizes.\nOf all the sets analyzed, MKM has the least difference in win rates between the color combinations. Compared to BLB which has the most\n\n\n\n\n\n\n\n\nFigure 5: The rate at which the drafted deck is a given 2-color pair.\n\n\n\n\n\nIn Figure 6, we focus on the 2-color decks. The White-Red and White-Green decks have the highest win rates.\n\n\n\n\n\n\n\n\nFigure 6: The win rate for each 2-color pair.\n\n\n\n\n\nFigure 7 shows the win rates for the five primary colors, based on whether they serve as a main component in a deck. For example, the “B” results reflect the win rates for Black in decks such as WB, BG, Mono-Black, and UBR.\nThe decks using white perform the best, with ones using black performing the worst.\n\n\n\n\n\n\n\n\nFigure 7: The win rate for each given color in the main deck colors."
  },
  {
    "objectID": "notebooks/10-eda/02-draft-data/01-premier-play/10-MKM-deck.html#win-rate-over-time",
    "href": "notebooks/10-eda/02-draft-data/01-premier-play/10-MKM-deck.html#win-rate-over-time",
    "title": "Murders at Karlov Manor (MKM) Arena Draft Analysis",
    "section": "3.3 Win Rate over Time",
    "text": "3.3 Win Rate over Time\nIt’s also insightful to observe how the win rates for two-color decks evolve over time. I selected the four decks with the largest absolute changes in win rate between the start and end of the period. In Figure 8, we see that the White-Green has a large drop in performance and White-Blue also having a sizable drop over time.\n\n\n\n\n\n\n\n\nFigure 8"
  },
  {
    "objectID": "notebooks/10-eda/02-draft-data/01-premier-play/10-MKM-deck.html#color-freq-vs-win-rate",
    "href": "notebooks/10-eda/02-draft-data/01-premier-play/10-MKM-deck.html#color-freq-vs-win-rate",
    "title": "Murders at Karlov Manor (MKM) Arena Draft Analysis",
    "section": "3.4 Color Freq vs Win Rate",
    "text": "3.4 Color Freq vs Win Rate\nNext, let’s compare the use rate to the win rate to see if the player base is well-calibrated in their deck selections based on performance.\nIn Figure 9, we observe that most of the two-color decks align along a straight line, indicating a balanced relationship between use rate and win rate. The White-Red deck is favored for both draft rate and win rate.\n\n\n\n\n\n\n\n\nFigure 9: Win Rate vs Use Rate of 2-Color Draft Decks"
  },
  {
    "objectID": "notebooks/10-eda/02-draft-data/01-premier-play/10-MKM-deck.html#wedges-vs-shards",
    "href": "notebooks/10-eda/02-draft-data/01-premier-play/10-MKM-deck.html#wedges-vs-shards",
    "title": "Murders at Karlov Manor (MKM) Arena Draft Analysis",
    "section": "3.5 Wedges vs Shards",
    "text": "3.5 Wedges vs Shards\nMagic: The Gathering color theory includes five wedges and five shards. Wedges are three-color decks built around a primary color and its two allies, while shards consist of a primary color and its two enemies. Conventional wisdom suggests that wedges are generally easier to draft than shards.\nHowever, as shown in Figure 10, the difference is win rate is trivial.\n\n\n\n\n\n\n\n\nFigure 10: The win rate for shards versus wedges."
  },
  {
    "objectID": "notebooks/10-eda/02-draft-data/01-premier-play/13-BLB-deck.html",
    "href": "notebooks/10-eda/02-draft-data/01-premier-play/13-BLB-deck.html",
    "title": "Bloomburrow (BLB) Arena Draft Analysis",
    "section": "",
    "text": "Drafting in Magic: The Gathering (MTG) is a complex and dynamic format that challenges players to adapt quickly, make strategic decisions, and understand the evolving meta of each new set. In this analysis, we explore the Bloomburrow (BLB) set, which was released in Arena on July 30, 2024. We will investigate the effect of deck color choices on player win rates.\nWe use data from the 17Lands for the premier draft format on MTG Arena, a best-of-one draft format where players draft in a pool and play until they win 7 games or lose 3.\nBy examining deck performance aim to uncover the key elements that contribute to success in this draft environment. Through this analysis, we provide valuable insights to help both seasoned and new drafters make more strategic decisions in the Bloomburrow draft format and beyond.\nTo see other analyses of MTG draft data, check out the Draft Analysis page."
  },
  {
    "objectID": "notebooks/10-eda/02-draft-data/01-premier-play/13-BLB-deck.html#color-frequency",
    "href": "notebooks/10-eda/02-draft-data/01-premier-play/13-BLB-deck.html#color-frequency",
    "title": "Bloomburrow (BLB) Arena Draft Analysis",
    "section": "3.1 Color Frequency",
    "text": "3.1 Color Frequency\nWe start by examining the frequency of decks drafted for each color combination in Figure 1. The ten two-color decks are the most common, aligning with the design intent of Bloomburrow, which focuses on ten two-color animal tribes. Although the other sets, such as MKM, OTJ, and MH3 also are predominately two-color, the BLB set is &gt;90% two-color, while the others are ~70% two-color.\n\n\n\n\n\n\n\n\nFigure 1: The rate at which the drafted deck has a given number of main colors.\n\n\n\n\n\nSince two-color decks are the most common, we’ll focus on these pairings. In Figure 2, we see the most frequent drafted decks are Black-Green, White-Green, and Blue-GReen. On the other hand, the least drafted are Blue-Black, Blue-Red and White-Blue.\n\n\n\n\n\n\n\n\nFigure 2: The rate at which the drafted deck is a given 2-color pair.\n\n\n\n\n\nFigure 3 shows the color composition of the decks. Green stands out as the most frequently drafted color, with Black and White also being popular choices. In contrast, Red and Blue are drafted far less frequently.\n\n\n\n\n\n\n\n\nFigure 3: The rate at which the drafted deck contains a given color in the main deck colors.\n\n\n\n\n\nNext, we examine the four decks with the largest absolute changes in use between the start and end of the time period, shown in Figure 4. We see Blue-Green and White-Black increasing over time, while Red-Green and White-Red lose favor over time.\n\n\n\n\n\n\n\n\nFigure 4: Frequency of Drafted Decks by Two-Color Pair: This figure shows the rate at which different two-color pairs are drafted, highlighting trends and preferences in deck selection over time."
  },
  {
    "objectID": "notebooks/10-eda/02-draft-data/01-premier-play/13-BLB-deck.html#color-win-rates",
    "href": "notebooks/10-eda/02-draft-data/01-premier-play/13-BLB-deck.html#color-win-rates",
    "title": "Bloomburrow (BLB) Arena Draft Analysis",
    "section": "3.2 Color Win Rates",
    "text": "3.2 Color Win Rates\nIn addition to analyzing the use rates of the colors, we’ll also examine their win rates. First, we calculate the weighted average win rate, which is 54.60%. As highlighted in the summary section, this win rate suggests that the 17Lands player base performs better than the general draft player base.\nFigure 5 presents the win rates for each color combination. While some mono-color decks have notably high win rates, their low use rates suggest that these results may be circumstantial due to small sample sizes. OF the sets analyzed, BLB has the highest dispersion of win rates among the number of colors in the main deck.\n\n\n\n\n\n\n\n\nFigure 5: The rate at which the drafted deck is a given 2-color pair.\n\n\n\n\n\nIn Figure 6, we focus on the 2-color decks. The Black-Red deck boasts the highest win rate, though it has a relatively low use rate. Meanwhile, the White-Red and Black-Green decks are the most popular and also maintain high win rates.\n\n\n\n\n\n\n\n\nFigure 6: The win rate for each 2-color pair.\n\n\n\n\n\nFigure 7 shows the win rates for the five primary colors, based on whether they serve as a main component in a deck. For example, the “B” results reflect the win rates for Black in decks such as WB, BG, Mono-Black, and UBR.\nThe decks using black perform the best, with ones using blue performing the worst.\n\n\n\n\n\n\n\n\nFigure 7: The win rate for each given color in the main deck colors."
  },
  {
    "objectID": "notebooks/10-eda/02-draft-data/01-premier-play/13-BLB-deck.html#win-rate-over-time",
    "href": "notebooks/10-eda/02-draft-data/01-premier-play/13-BLB-deck.html#win-rate-over-time",
    "title": "Bloomburrow (BLB) Arena Draft Analysis",
    "section": "3.3 Win Rate over Time",
    "text": "3.3 Win Rate over Time\nIt’s also insightful to observe how the win rates for two-color decks evolve over time. I selected the four decks with the largest absolute changes in win rate between the start and end of the period. In Figure 8, we see that the White-Green, White-Black, and White-Red had higher win rates initially, but they slowly declined. The Blue-Red deck conversely improved in the win rate over time.\n\n\n\n\n\n\n\n\nFigure 8"
  },
  {
    "objectID": "notebooks/10-eda/02-draft-data/01-premier-play/13-BLB-deck.html#color-freq-vs-win-rate",
    "href": "notebooks/10-eda/02-draft-data/01-premier-play/13-BLB-deck.html#color-freq-vs-win-rate",
    "title": "Bloomburrow (BLB) Arena Draft Analysis",
    "section": "3.4 Color Freq vs Win Rate",
    "text": "3.4 Color Freq vs Win Rate\nNext, let’s compare the use rate to the win rate to see if the player base is well-calibrated in their deck selections based on performance.\nIn Figure 9, we observe that most of the two-color decks align along a straight line, indicating a balanced relationship between use rate and win rate, with two notable outliers. The Blue-Red Otters: Non-creature Spells deck underperforms relative to its use rate, suggesting it may be over-selected. In contrast, the Black-Red Lizards: Opponents Lose Life deck is a hidden gem, boasting the highest win rates but being picked less frequently than the average two-color deck.\nThis under-selection of Black-Red likely stems from the general underperformance of Red, leading many drafters to avoid it unless they secure strong Black-Red cards early. On the other hand, White, Green, and Black perform well, making the BG, WG, and WB decks popular and flexible choices that players can easily pivot to during drafts.\n\n\n\n\n\n\n\n\nFigure 9: Win Rate vs Use Rate of 2-Color Draft Decks"
  },
  {
    "objectID": "notebooks/10-eda/02-draft-data/01-premier-play/13-BLB-deck.html#wedges-vs-shards",
    "href": "notebooks/10-eda/02-draft-data/01-premier-play/13-BLB-deck.html#wedges-vs-shards",
    "title": "Bloomburrow (BLB) Arena Draft Analysis",
    "section": "3.5 Wedges vs Shards",
    "text": "3.5 Wedges vs Shards\nMagic: The Gathering color theory includes five wedges and five shards. Wedges are three-color decks built around a primary color and its two allies, while shards consist of a primary color and its two enemies. Conventional wisdom suggests that wedges are generally easier to draft than shards.\nHowever, as shown in Figure 10, the shards have a slightly higher win rate and use rate compared to the wedges. The BLB set has the highest gap between the two groups, with the other sets having a &lt;1% spread.\n\n\n\n\n\n\n\n\nFigure 10: The win rate for shards versus wedges."
  },
  {
    "objectID": "notebooks/01-data-wrangling/01-mtgjson-data/21-booster-data-wrangle.html",
    "href": "notebooks/01-data-wrangling/01-mtgjson-data/21-booster-data-wrangle.html",
    "title": "Summary",
    "section": "",
    "text": "Wrangle the booster set data.\n\n1 Introduction\nThis notebook will wrangle the data needed to understand booster pack composition.\nThis data is sourced by MTGJSON from https://github.com/taw/magic-sealed-data. See the about page.\nI made a dataset for simulating booster packs. This will look at for each combination of booster pack config, sheet name, and card name. The three rates that affect expected pull rates are: - Booster Pack Config: Unique mixes of booster packs, such as some having “The List” cards or land foils. - Sheet Picks: Number of picks from each sheet type in the booster config, such as some packs having 6 picks from the commons sheets, while others get 5 picks. - Card Sheet Rate: The rate at which a card uuid occurs on the sheet. These rates are then used to create an expected pull rate. I break this into two expected pull rate. One is per uuid, which has different values for alternate cards. The other is per name, which lumps all card alternates with the same gameplay mechanics together.\nI took the above dataset and collapse it to the expected pull rates for each card and uuid, aggregating the pack configurations and sheet names. This can be added to other card stats.\n\n\n2 Initial Load and Transforms\nSet paths. Using the OUTLAWS OF THUNDER JUNCTION set code and play booster type.\nScan files into lazy dataframes. No compute until .collect() method is called.\nTidy the card data.\n\n\n\nshape: (5, 8)\n\n\n\nname\nsetCode\nnumber\nuuid\nboosterName\ncardWeight\nsetCode_right\nsheetName\n\n\nstr\nstr\nstr\nstr\nstr\ni64\nstr\nstr\n\n\n\n\n\"Raccoon Rallier\"\n\"BLB\"\n\"148\"\n\"0303bce7-92ec-53d3-8dc4-d27dce…\n\"collector\"\n1\n\"BLB\"\n\"foilCommon\"\n\n\n\"Tempest Angler\"\n\"BLB\"\n\"235\"\n\"039d071b-cfed-55df-ba49-51b209…\n\"collector\"\n1\n\"BLB\"\n\"foilCommon\"\n\n\n\"Bonebind Orator\"\n\"BLB\"\n\"084\"\n\"04c6c11d-d510-566e-b2bd-5a9992…\n\"collector\"\n1\n\"BLB\"\n\"foilCommon\"\n\n\n\"Carrot Cake\"\n\"BLB\"\n\"007\"\n\"06ee1d2b-9cb8-5aa6-93b5-fdf8c2…\n\"collector\"\n1\n\"BLB\"\n\"foilCommon\"\n\n\n\"Intrepid Rabbit\"\n\"BLB\"\n\"017\"\n\"0e9c0952-72c4-5ded-bdfa-9ec5d5…\n\"collector\"\n1\n\"BLB\"\n\"foilCommon\"\n\n\n\n\n\n\nTidy the booster composition, which shows which sheet names and frequencies occur in a give booster.\nDisplay the pivot to compare different booster compositions.\n\n\n\nshape: (8, 7)\n\n\n\nboosterName\nsetCode\nsheetName\n0\n1\n2\n3\n\n\nstr\nstr\nstr\ni64\ni64\ni64\ni64\n\n\n\n\n\"play\"\n\"BLB\"\n\"common\"\n7\n6\n7\n6\n\n\n\"play\"\n\"BLB\"\n\"foil\"\n1\n1\n1\n1\n\n\n\"play\"\n\"BLB\"\n\"land\"\n1\n1\nnull\nnull\n\n\n\"play\"\n\"BLB\"\n\"rareMythicWithShowcase\"\n1\n1\n1\n1\n\n\n\"play\"\n\"BLB\"\n\"uncommon\"\n3\n3\n3\n3\n\n\n\"play\"\n\"BLB\"\n\"wildcard\"\n1\n1\n1\n1\n\n\n\"play\"\n\"BLB\"\n\"theList\"\nnull\n1\nnull\n1\n\n\n\"play\"\n\"BLB\"\n\"foilLand\"\nnull\nnull\n1\n1\n\n\n\n\n\n\nTidy the booster weight. Shows the frequency at which each booster config occurs.\n\n\n\n\n\n\n\n\n\nboosterIndex\nboosterName\nboosterWeight\nsetCode\nboosterConfigRate\n\n\n\n\n0\n0\nplay\n16\nOTJ\n0.64\n\n\n1\n1\nplay\n4\nOTJ\n0.16\n\n\n2\n2\nplay\n4\nOTJ\n0.16\n\n\n3\n3\nplay\n1\nOTJ\n0.04\n\n\n\n\n\n\n\nTidy the booster sheets data. This has some data for each sheet type.\n\n\n\n\n\n\n\n\n\nboosterName\nsetCode\nsheetHasBalanceColors\nsheetIsFoil\nsheetName\n\n\n\n\n0\nplay\nOTJ\nFalse\nFalse\nbreakingNews\n\n\n1\nplay\nOTJ\nFalse\nFalse\ncommon\n\n\n2\nplay\nOTJ\nFalse\nTrue\nfoil\n\n\n3\nplay\nOTJ\nFalse\nTrue\nfoilLand\n\n\n4\nplay\nOTJ\nFalse\nFalse\nland\n\n\n5\nplay\nOTJ\nFalse\nFalse\nrareMythicWithShowcase\n\n\n6\nplay\nOTJ\nFalse\nFalse\ntheList\n\n\n7\nplay\nOTJ\nFalse\nFalse\nuncommon\n\n\n8\nplay\nOTJ\nFalse\nFalse\nwildcard\n\n\n\n\n\n\n\nTidy the booster sheet card data. This contains the card uuid frequencies on each sheet.\n\n\n\n\n\n\n\n\n\nboosterName\ncardUuid\ncardWeight\nsetCode\nsheetName\nname\nnumber\nrarity\ntotalCardWeight\ncardSheetRate\n\n\n\n\n205\nplay\n7c2f8f1d-085e-5cb9-8bc6-018d3ca8c5b5\n162\nOTJ\nfoil\nDouble Down\n44\nmythic\n149634\n0.001083\n\n\n822\nplay\nf4409d13-2bcf-5d83-80e0-abdb796c070f\n8100\nOTJ\nwildcard\nCaustic Bronco\n82\nrare\n4496850\n0.001801\n\n\n124\nplay\n2ca6b276-df48-572a-8f6e-cfae9c3dc73b\n378\nOTJ\nfoil\nRictus Robber\n102\nuncommon\n149634\n0.002526\n\n\n152\nplay\n49e5eaf9-9a3f-5561-9982-58db55a14f06\n378\nOTJ\nfoil\nMobile Homestead\n245\nuncommon\n149634\n0.002526\n\n\n282\nplay\nc80f2a52-32ca-5203-a3c3-7fcc6856c2eb\n378\nOTJ\nfoil\nLavaspur Boots\n243\nuncommon\n149634\n0.002526\n\n\n174\nplay\n602d5db0-db76-5c56-9f36-1eff1c00ad66\n1120\nOTJ\nfoil\nConsuming Ashes\n83\ncommon\n149634\n0.007485\n\n\n186\nplay\n6a1018f9-ca3b-5c28-a357-de3e8c3d07da\n1120\nOTJ\nfoil\nArmored Armadillo\n3\ncommon\n149634\n0.007485\n\n\n756\nplay\nb3ed033c-9928-5a73-8da0-ff232311af60\n39200\nOTJ\nwildcard\nDjinn of Fool's Fall\n43\ncommon\n4496850\n0.008717\n\n\n75\nplay\nec54a1af-e697-5576-82af-7e04eb05dfaf\n1\nOTJ\ncommon\nSterling Keykeeper\n32\ncommon\n81\n0.012346\n\n\n364\nplay\ne8c6f29c-ed4e-574b-ba61-c6564ad84b8b\n3\nOTJ\nfoilLand\nCreosote Heath\n255\ncommon\n60\n0.050000\n\n\n\n\n\n\n\n\n\n3 Draw Rates per Card-Sheet-Booster Combos\nUse this for simulating booster pack draws, given rates for booster configs, sheets, and cards.\n\n\n(3232, 19)\n\n\n\n\n\n\n\n\n\nboosterIndex\nboosterName\nsetCode\nsheetName\nsheetPicks\nboosterWeight\nboosterConfigRate\nsheetHasBalanceColors\nsheetIsFoil\ncardUuid\ncardWeight\nname\nnumber\nrarity\ntotalCardWeight\ncardSheetRate\nexpectedConfigCardPullRate\nexpectedCardUuidPullRate\nexpectedCardNamePullRate\n\n\n\n\n55\n1\nplay\nOTJ\nland\n1\n4\n0.16\nFalse\nFalse\nd625c38f-3b9c-59b7-85eb-e4bdfda3a8d0\n2\nSwamp\n281\ncommon\n60\n0.033333\n0.005333\n0.033333\n0.1\n\n\n13\n3\nplay\nOTJ\nfoilLand\n1\n1\n0.04\nFalse\nTrue\n6932a15f-4028-5ffb-8a25-9cf7a3a78df3\n2\nPlains\n278\ncommon\n60\n0.033333\n0.001333\n0.033333\n0.1\n\n\n10\n2\nplay\nOTJ\nfoilLand\n1\n4\n0.16\nFalse\nTrue\n4a1a324d-b930-5afb-845c-2410c98d4b28\n2\nSwamp\n274\ncommon\n60\n0.033333\n0.005333\n0.033333\n0.1\n\n\n0\n2\nplay\nOTJ\nfoilLand\n1\n4\n0.16\nFalse\nTrue\n053ded5c-2cea-5a75-a55e-daf37e2ea91e\n2\nMountain\n275\ncommon\n60\n0.033333\n0.005333\n0.033333\n0.1\n\n\n38\n0\nplay\nOTJ\nland\n1\n16\n0.64\nFalse\nFalse\n452d4eaf-d736-5dbf-9fc2-cb35022ee7d9\n2\nForest\n276\ncommon\n60\n0.033333\n0.021333\n0.033333\n0.1\n\n\n\n\n\n\n\n\n\n4 Draw Rates per Card, Aggregated\nUse this for per-card draw rates. Takes above dataset and aggregates the booster configs and sheets types.\n\n\n\n\n\n\n\n\n\ncardUuid\nname\nnumber\nsetCode\nboosterName\nexpectedCardUuidPullRate\nexpectedCardNamePullRate\n\n\n\n\n0\n53a66eef-e857-53da-b23c-93a9926f8a9e\nGeralf, the Fleshwright\n50\nOTJ\nplay\n0.006437\n0.006437\n\n\n1\nda46f56f-f4a8-58de-8a30-f6bd1de92add\nGisa, the Hellraiser\n89\nOTJ\nplay\n0.006437\n0.006437\n\n\n2\nd9ddb794-3cb2-5a53-97d2-20375d1c607d\nTinybones, the Pickpocket\n109\nOTJ\nplay\n0.006437\n0.006437\n\n\n3\n63c69341-9c62-550f-994e-8ec0ab0c0c46\nAnnie Flash, the Veteran\n190\nOTJ\nplay\n0.006437\n0.006437\n\n\n4\n83d76712-309f-532d-bbd6-d92a3b0870d4\nKellan, the Kid\n213\nOTJ\nplay\n0.006437\n0.006437"
  },
  {
    "objectID": "notebooks/01-data-wrangling/01-mtgjson-data/22-price-data-wrangle.html",
    "href": "notebooks/01-data-wrangling/01-mtgjson-data/22-price-data-wrangle.html",
    "title": "Summary",
    "section": "",
    "text": "The code to acquire and pre-process the all price data to use for future analysis.\n\n\nChanged working directory to: d:\\mtg-modeling\n\n\n\n\nReading JSON\nWriting data...\nMetadata written!\nInterim data written!\nUnstacking data...\nData unstacked!\nSaving data...\nData saved!\nFinal data loaded!\n\n\n(46959192, 8)\n\n\n\n\n(96216, 7)\n\n\n\n\nShape: (46602076, 14)\nMem Size in GB: 5.41\n\n\n\nshape: (1, 14)\n\n\n\nuuid\nmedium\nproviders\ncurrency\nlist\nfinish\ndate\nprice\nname\nsetCode\nnumber\nrarity\ntype\ncolors\n\n\nstr\nstr\nstr\nstr\nstr\nstr\ndate\nf64\nstr\nstr\nstr\nstr\nstr\nstr\n\n\n\n\n\"00010d56-fe38-5e35-8aed-518019…\n\"paper\"\n\"cardkingdom\"\n\"USD\"\n\"buylist\"\n\"foil\"\n2024-05-23\n5.0\n\"Sphinx of the Final Word\"\n\"POGW\"\n\"63s\"\n\"mythic\"\n\"Creature — Sphinx\"\n\"U\"\n\n\n\n\n\n\n\n\n(268816, 14)"
  },
  {
    "objectID": "notebooks/01-data-wrangling/01-mtgjson-data/00-mtgjson-data-intro.html",
    "href": "notebooks/01-data-wrangling/01-mtgjson-data/00-mtgjson-data-intro.html",
    "title": "1 Review AllPrintings Tables",
    "section": "",
    "text": "# Summary\nAn introduction to the MTGJSON card data, including reviewing the data files and column features."
  },
  {
    "objectID": "notebooks/01-data-wrangling/01-mtgjson-data/00-mtgjson-data-intro.html#introduction",
    "href": "notebooks/01-data-wrangling/01-mtgjson-data/00-mtgjson-data-intro.html#introduction",
    "title": "1 Review AllPrintings Tables",
    "section": "0.1 Introduction",
    "text": "0.1 Introduction\nI will use the data from MTGJSON. The AllPrintings card data comes in various formats, such as json, sql, csv, and parquet.\nI will use the parquet format, since that is the most performant format for data analysis. It has high compression, fast load times, and can query directly on disk. This minimizes both disk space and memory usage.\nI will also use the AllPrices data for economic analysis. This is only available in the json format."
  },
  {
    "objectID": "notebooks/01-data-wrangling/01-mtgjson-data/00-mtgjson-data-intro.html#downloads",
    "href": "notebooks/01-data-wrangling/01-mtgjson-data/00-mtgjson-data-intro.html#downloads",
    "title": "1 Review AllPrintings Tables",
    "section": "0.2 Downloads",
    "text": "0.2 Downloads\nSee notebook 10-get-data.ipynb to fetch the data."
  },
  {
    "objectID": "notebooks/01-data-wrangling/01-mtgjson-data/00-mtgjson-data-intro.html#card-files",
    "href": "notebooks/01-data-wrangling/01-mtgjson-data/00-mtgjson-data-intro.html#card-files",
    "title": "1 Review AllPrintings Tables",
    "section": "1.1 Card Files:",
    "text": "1.1 Card Files:\n\ncards.parquet: The primary file that contains card data, such as card name, mana cost, type, and text.\ntokens.parquet: Same for tokens.\ncardForeignData.parquet: Foreign language translations of cards.\ncardLegalities.parquet: Legality of cards for various play formats.\ncardPrices.parquet: Latest prices for cards on various platforms, including retail and buylist prices.\ncardPurchaseUrls.parquet: URLs to various retail platforms.\ncardRulings.parquet: The rulings for cards."
  },
  {
    "objectID": "notebooks/01-data-wrangling/01-mtgjson-data/00-mtgjson-data-intro.html#set-files",
    "href": "notebooks/01-data-wrangling/01-mtgjson-data/00-mtgjson-data-intro.html#set-files",
    "title": "1 Review AllPrintings Tables",
    "section": "1.2 Set Files:",
    "text": "1.2 Set Files:\n\nsets.parquet: Data on various released sets, such as set code (10E, OTJ…), set size, and release date.\nsetTranslations.parquet: Translations for set names in various languages."
  },
  {
    "objectID": "notebooks/01-data-wrangling/01-mtgjson-data/00-mtgjson-data-intro.html#identifier-files",
    "href": "notebooks/01-data-wrangling/01-mtgjson-data/00-mtgjson-data-intro.html#identifier-files",
    "title": "1 Review AllPrintings Tables",
    "section": "1.3 Identifier Files:",
    "text": "1.3 Identifier Files:\n\ncardIdentifiers.parquet: Identifiers for various MTG data platforms (TCG Collector, Scryfall, Cardmarket…).\ntokenIdentifiers.parquet: Same for tokens."
  },
  {
    "objectID": "notebooks/01-data-wrangling/01-mtgjson-data/00-mtgjson-data-intro.html#set-booster-files",
    "href": "notebooks/01-data-wrangling/01-mtgjson-data/00-mtgjson-data-intro.html#set-booster-files",
    "title": "1 Review AllPrintings Tables",
    "section": "1.4 Set Booster Files:",
    "text": "1.4 Set Booster Files:\n\nsetBoosterContents.parquet: For booster packs, different mixes of sheet composition (1 theList + 13 others versus 0 theList + 14 others).\nsetBoosterContentWeights.parquet: The weight of each booster mix (1 in 10 boosters has theList).\nsetBoosterSheets.parquet: Card sheet information.\nsetBoosterSheetCards.parquet: Card composition of each sheet, including counts."
  },
  {
    "objectID": "notebooks/01-data-wrangling/01-mtgjson-data/00-mtgjson-data-intro.html#meta-file",
    "href": "notebooks/01-data-wrangling/01-mtgjson-data/00-mtgjson-data-intro.html#meta-file",
    "title": "1 Review AllPrintings Tables",
    "section": "1.5 Meta File:",
    "text": "1.5 Meta File:\n\nmeta.parquet: Version and date for current MTGJSON build."
  },
  {
    "objectID": "notebooks/01-data-wrangling/01-mtgjson-data/00-mtgjson-data-intro.html#mtgjson",
    "href": "notebooks/01-data-wrangling/01-mtgjson-data/00-mtgjson-data-intro.html#mtgjson",
    "title": "1 Review AllPrintings Tables",
    "section": "2.1 MTGJSON",
    "text": "2.1 MTGJSON\n\nuuid:\n\nReprinted card editions: Unique id\nDouble-faced cards (DBC): Each face has a unique uuid.\nForeign languages: Same Id."
  },
  {
    "objectID": "notebooks/01-data-wrangling/01-mtgjson-data/00-mtgjson-data-intro.html#wotc-gatherer",
    "href": "notebooks/01-data-wrangling/01-mtgjson-data/00-mtgjson-data-intro.html#wotc-gatherer",
    "title": "1 Review AllPrintings Tables",
    "section": "2.2 WOTC Gatherer",
    "text": "2.2 WOTC Gatherer\n\nmultiverseId: The WOTC card identifier used their Gatherer card database.\n\nReprinted card editions: Unique id\nDouble-faced cards: Same id\nForeign languages: Different id"
  },
  {
    "objectID": "notebooks/01-data-wrangling/01-mtgjson-data/00-mtgjson-data-intro.html#scryfall",
    "href": "notebooks/01-data-wrangling/01-mtgjson-data/00-mtgjson-data-intro.html#scryfall",
    "title": "1 Review AllPrintings Tables",
    "section": "2.3 Scryfall",
    "text": "2.3 Scryfall\n\nscryfallId: The Scryfall uuid. It has different rules than the MTGJSON uuid, such as faces of DFCs are not unique.\n\nReprinted card editions: Unique id\nDouble-faced cards: Same id. See scryfallCardBackId.\nForeign languages: Different id"
  },
  {
    "objectID": "notebooks/01-data-wrangling/02-draft-data/01-premier-play/22-draft_data-mult-set.html",
    "href": "notebooks/01-data-wrangling/02-draft-data/01-premier-play/22-draft_data-mult-set.html",
    "title": "Summary",
    "section": "",
    "text": "The code to wrangle the data across multiple sets\n\n1 Introduction\nThis takes the set files from 20-draft-data-wrangle and combines them into a single file.\n\n\n2 Initial Setup\nDefine Paths"
  },
  {
    "objectID": "notebooks/01-data-wrangling/02-draft-data/01-premier-play/20-draft-data-wrangle.html",
    "href": "notebooks/01-data-wrangling/02-draft-data/01-premier-play/20-draft-data-wrangle.html",
    "title": "Summary",
    "section": "",
    "text": "The code to wrangle the data. Deal with NAs, join data frames, etc."
  },
  {
    "objectID": "notebooks/01-data-wrangling/02-draft-data/01-premier-play/20-draft-data-wrangle.html#terms",
    "href": "notebooks/01-data-wrangling/02-draft-data/01-premier-play/20-draft-data-wrangle.html#terms",
    "title": "Summary",
    "section": "1.1 Terms",
    "text": "1.1 Terms\nThe following terms are used in the data set: - game: a single game of MTG - match: a series of games between two players. Typically best of 1 or best of 3. - draft: an initial draft event, followed by a series of matches between a group of players. - build: a instance of a deck in a draft. Can be adjusted between games."
  },
  {
    "objectID": "notebooks/00-intro/30-strategy-review.html",
    "href": "notebooks/00-intro/30-strategy-review.html",
    "title": "Summary",
    "section": "",
    "text": "A review of prevalent MTG gameplay strategies.\n\n1 Strategy & Game Theory\n\n\n2 Concepts\n\nCard Economy\n\nCard Parity (2-for-1)\nTempo\nMana Efficiency\nCard Quality\nCard Filtering\nValue Engine\nResource Denial\nGraveyard as a Resource\nHand Disruption\nDraw Engine\nCantrips\nOverextending\n\nBoard State Theories\n\nQuadrant Theory\n\nopening\nparity\nwinning\nlosing\n\nMana Curve Theory\nTreat Assessment and Removal Management\nTempo Theory\nCard Advantage\n\nRaw\nVirtual\nTempo-Based\n\nBoard Control Theory\nThe Theory of Initiative\nInevitability Theory\nCritical Turn Theory\nRisk vs. Reward Theory\nResource Accumulation vs. Deployment\n\nDrafting Theories\n\nBREAD Theory\n\nBombs\nRemoval\nEvasion\nAggro\nDuds\n\nSignaling\nCurve Consideration\nArchetype Drafting\nReading the Pack\nHate Drafting\nConsistency vs. Power\nWheeling\nStaying Open\nSideboarding in Draft\nBomb Reliance vs. Synergy\nSplashing\n\nDeck-building Theories\n\nMana Curve Theory\nCard Advantage Theory\nSynergy vs. Raw Power\nTempo Theory\nMana Base Construction\n40-23-17 Rule (Limited)\nRole Identification\nCard Selection Theory\nWin Condition Theory\nMetagame Consideration\nCurve Toppers and Finishers\nRedundancy vs. Versatility\nSideboard Theory\nTesting and Iteration\nDeck Identity"
  },
  {
    "objectID": "notebooks/00-intro/40-glossary.html",
    "href": "notebooks/00-intro/40-glossary.html",
    "title": "Summary",
    "section": "",
    "text": "A glossary of MTG and data science terms."
  }
]